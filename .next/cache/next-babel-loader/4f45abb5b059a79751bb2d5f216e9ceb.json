{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/angelovski/Documents/Projects/dccscanner/web/src/components/LoginForm/LoginForm.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport Router from \"next/router\";\nimport { useState } from \"react\";\nimport css from \"./LoginForm.module.css\";\nimport { authDriver } from \"../../lib/drivers/restDrivers\";\n\nvar LoginForm = function LoginForm() {\n  _s();\n\n  var _useState = useState(\"\"),\n      email = _useState[0],\n      setEmail = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      check = _useState2[0],\n      setCheck = _useState2[1];\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var auth;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              setCheck(\"\");\n              _context.next = 4;\n              return authDriver({\n                email: email\n              });\n\n            case 4:\n              auth = _context.sent;\n\n              if (auth) {\n                // Redirect to \"/\" after successfull login\n                Router.replace(\"/\");\n              } else {\n                setCheck(\"Invalid credentials\");\n              }\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: css.formContainer,\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: css.loginForm,\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: css.inputEmail,\n        required: true,\n        name: \"email\",\n        type: \"email\",\n        placeholder: \"Email\",\n        onInput: function onInput(e) {\n          return setEmail(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"\".concat(css.inputButton, \" green3\"),\n        type: \"submit\",\n        children: \"Enter\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: css.invalidCreds,\n        children: check\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(LoginForm, \"u9HfDxTrqdVqYJ7M6HTATQyXKgE=\");\n\n_c = LoginForm;\nexport default LoginForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"sources":["/home/angelovski/Documents/Projects/dccscanner/web/src/components/LoginForm/LoginForm.js"],"names":["Router","useState","css","authDriver","LoginForm","email","setEmail","check","setCheck","handleSubmit","e","preventDefault","auth","replace","formContainer","loginForm","inputEmail","target","value","inputButton","invalidCreds"],"mappings":";;;;;;;;AAAA,OAAOA,MAAP,MAAmB,aAAnB;AACA,SAASC,QAAT,QAAyB,OAAzB;AAEA,OAAOC,GAAP,MAAgB,wBAAhB;AAEA,SAASC,UAAT,QAA2B,+BAA3B;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;AAAA;;AAAA,kBACIH,QAAQ,CAAC,EAAD,CADZ;AAAA,MACfI,KADe;AAAA,MACRC,QADQ;;AAAA,mBAEIL,QAAQ,CAAC,EAAD,CAFZ;AAAA,MAEfM,KAFe;AAAA,MAERC,QAFQ;;AAItB,MAAMC,YAAY;AAAA,wEAAG,iBAAMC,CAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AACnBA,cAAAA,CAAC,CAACC,cAAF;AACAH,cAAAA,QAAQ,CAAC,EAAD,CAAR;AAFmB;AAAA,qBAIAL,UAAU,CAAC;AAAEE,gBAAAA,KAAK,EAALA;AAAF,eAAD,CAJV;;AAAA;AAIbO,cAAAA,IAJa;;AAMnB,kBAAIA,IAAJ,EAAU;AACR;AACAZ,gBAAAA,MAAM,CAACa,OAAP,CAAe,GAAf;AACD,eAHD,MAGO;AACLL,gBAAAA,QAAQ,CAAC,qBAAD,CAAR;AACD;;AAXkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAZC,YAAY;AAAA;AAAA;AAAA,KAAlB;;AAcA,sBACE;AAAK,IAAA,SAAS,EAAEP,GAAG,CAACY,aAApB;AAAA,2BACE;AAAM,MAAA,SAAS,EAAEZ,GAAG,CAACa,SAArB;AAAgC,MAAA,QAAQ,EAAEN,YAA1C;AAAA,8BACE;AACE,QAAA,SAAS,EAAEP,GAAG,CAACc,UADjB;AAEE,QAAA,QAAQ,MAFV;AAGE,QAAA,IAAI,EAAC,OAHP;AAIE,QAAA,IAAI,EAAC,OAJP;AAKE,QAAA,WAAW,EAAC,OALd;AAME,QAAA,OAAO,EAAE,iBAAAN,CAAC;AAAA,iBAAIJ,QAAQ,CAACI,CAAC,CAACO,MAAF,CAASC,KAAV,CAAZ;AAAA;AANZ;AAAA;AAAA;AAAA;AAAA,eADF,eASE;AAAQ,QAAA,SAAS,YAAKhB,GAAG,CAACiB,WAAT,YAAjB;AAAgD,QAAA,IAAI,EAAC,QAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eATF,eAYE;AAAK,QAAA,SAAS,EAAEjB,GAAG,CAACkB,YAApB;AAAA,kBAAmCb;AAAnC;AAAA;AAAA;AAAA;AAAA,eAZF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,WADF;AAkBD,CApCD;;GAAMH,S;;KAAAA,S;AAsCN,eAAeA,SAAf","sourcesContent":["import Router from \"next/router\";\nimport { useState } from \"react\";\n\nimport css from \"./LoginForm.module.css\";\n\nimport { authDriver } from \"../../lib/drivers/restDrivers\";\n\nconst LoginForm = () => {\n  const [email, setEmail] = useState(\"\");\n  const [check, setCheck] = useState(\"\");\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setCheck(\"\");\n\n    const auth = await authDriver({ email });\n\n    if (auth) {\n      // Redirect to \"/\" after successfull login\n      Router.replace(\"/\");\n    } else {\n      setCheck(\"Invalid credentials\");\n    }\n  };\n\n  return (\n    <div className={css.formContainer}>\n      <form className={css.loginForm} onSubmit={handleSubmit}>\n        <input\n          className={css.inputEmail}\n          required\n          name=\"email\"\n          type=\"email\"\n          placeholder=\"Email\"\n          onInput={e => setEmail(e.target.value)}\n        />\n        <button className={`${css.inputButton} green3`} type=\"submit\">\n          Enter\n        </button>\n        <div className={css.invalidCreds}>{check}</div>\n      </form>\n    </div>\n  );\n};\n\nexport default LoginForm;\n"]},"metadata":{},"sourceType":"module"}