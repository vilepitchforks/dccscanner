{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/angelovski/Documents/Projects/dccscanner/web/src/components/NewScanForm/NewScanForm.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { useStoreActions } from \"easy-peasy\";\nimport css from \"./NewScanForm.module.css\";\n\nvar Category = function Category(_ref) {\n  var ctg = _ref.ctg,\n      deleteCategory = _ref.deleteCategory;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: css.chip,\n    role: \"button\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: css[\"chip-label\"],\n      children: ctg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 5\n    }, _this), /*#__PURE__*/_jsxDEV(\"svg\", {\n      className: css[\"chip-delete\"],\n      onClick: function onClick(e) {\n        return deleteCategory(ctg);\n      },\n      viewBox: \"0 0 24 24\",\n      children: /*#__PURE__*/_jsxDEV(\"path\", {\n        d: \"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 7\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 5\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 3\n  }, _this);\n};\n\n_c = Category;\n\nvar NewScanForm = function NewScanForm(_ref2) {\n  _s();\n\n  var loading = _ref2.loading,\n      url = _ref2.url,\n      setUrl = _ref2.setUrl,\n      slugs = _ref2.slugs,\n      handleSlugs = _ref2.handleSlugs;\n\n  var _useState = useState([]),\n      categories = _useState[0],\n      setCategories = _useState[1];\n\n  var _useStoreActions = useStoreActions(function (actions) {\n    return actions;\n  }),\n      setScanCtgs = _useStoreActions.setScanCtgs;\n\n  var deleteCategory = function deleteCategory(ctg) {\n    return setCategories(categories.filter(function (category) {\n      return category !== ctg;\n    }));\n  };\n\n  useEffect(function () {\n    var ctgsSet = new Set(categories); // ?url=https://www.url.com&categories=shop,first,second\n\n    setScanCtgs(Array.from(ctgsSet).join());\n  }, [categories]);\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: function onSubmit(e) {\n      e.preventDefault();\n      handleSlugs();\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"url\",\n      children: \"URL\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"u-full-width\",\n      type: \"url\",\n      placeholder: \"https://www.website.com\",\n      id: \"url\",\n      value: url,\n      onInput: function onInput(e) {\n        return setUrl(e.target.value);\n      },\n      onBlur: function onBlur() {\n        return handleSlugs();\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"slugs\",\n      children: \"Category\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"select\", {\n      name: \"slugs\",\n      id: \"slig-list\",\n      className: \"u-full-width\",\n      onInput: function onInput(e) {\n        return setCategories(function (ctgs) {\n          return [].concat(_toConsumableArray(ctgs), [e.target.value]);\n        });\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: loading ? \"--Fetching slugs...--\" : \"--Select a slug--\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, _this), slugs.map(function (slug, i) {\n        return /*#__PURE__*/_jsxDEV(\"option\", {\n          value: slug,\n          children: slug\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, _this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: css[\"chip-container\"],\n      children: categories.map(function (category, i) {\n        return /*#__PURE__*/_jsxDEV(Category, {\n          ctg: category,\n          deleteCategory: deleteCategory\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, _this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(NewScanForm, \"zZAOk/kJuKp/I7bwM7QsY8RCTk4=\", false, function () {\n  return [useStoreActions];\n});\n\n_c2 = NewScanForm;\nexport default NewScanForm;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Category\");\n$RefreshReg$(_c2, \"NewScanForm\");","map":{"version":3,"sources":["/home/angelovski/Documents/Projects/dccscanner/web/src/components/NewScanForm/NewScanForm.js"],"names":["useEffect","useState","useStoreActions","css","Category","ctg","deleteCategory","chip","e","NewScanForm","loading","url","setUrl","slugs","handleSlugs","categories","setCategories","actions","setScanCtgs","filter","category","ctgsSet","Set","Array","from","join","preventDefault","target","value","ctgs","map","slug","i"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useStoreActions } from \"easy-peasy\";\n\nimport css from \"./NewScanForm.module.css\";\n\nconst Category = ({ ctg, deleteCategory }) => (\n  <div className={css.chip} role=\"button\">\n    <span className={css[\"chip-label\"]}>{ctg}</span>\n    <svg\n      className={css[\"chip-delete\"]}\n      onClick={e => deleteCategory(ctg)}\n      viewBox=\"0 0 24 24\"\n    >\n      <path d=\"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z\"></path>\n    </svg>\n  </div>\n);\n\nconst NewScanForm = ({ loading, url, setUrl, slugs, handleSlugs }) => {\n  const [categories, setCategories] = useState([]);\n\n  const { setScanCtgs } = useStoreActions(actions => actions);\n\n  const deleteCategory = ctg =>\n    setCategories(categories.filter(category => category !== ctg));\n\n  useEffect(() => {\n    const ctgsSet = new Set(categories);\n    // ?url=https://www.url.com&categories=shop,first,second\n    setScanCtgs(Array.from(ctgsSet).join());\n  }, [categories]);\n\n  return (\n    <form\n      onSubmit={e => {\n        e.preventDefault();\n        handleSlugs();\n      }}\n    >\n      <label htmlFor=\"url\">URL</label>\n      <input\n        className=\"u-full-width\"\n        type=\"url\"\n        placeholder=\"https://www.website.com\"\n        id=\"url\"\n        value={url}\n        onInput={e => setUrl(e.target.value)}\n        onBlur={() => handleSlugs()}\n      />\n      <label htmlFor=\"slugs\">Category</label>\n      <select\n        name=\"slugs\"\n        id=\"slig-list\"\n        className=\"u-full-width\"\n        onInput={e => setCategories(ctgs => [...ctgs, e.target.value])}\n      >\n        <option value=\"\">\n          {loading ? \"--Fetching slugs...--\" : \"--Select a slug--\"}\n        </option>\n        {slugs.map((slug, i) => (\n          <option key={i} value={slug}>\n            {slug}\n          </option>\n        ))}\n      </select>\n      <div className={css[\"chip-container\"]}>\n        {categories.map((category, i) => (\n          <Category key={i} ctg={category} deleteCategory={deleteCategory} />\n        ))}\n      </div>\n    </form>\n  );\n};\n\nexport default NewScanForm;\n"]},"metadata":{},"sourceType":"module"}