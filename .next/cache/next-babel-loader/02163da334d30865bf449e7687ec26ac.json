{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport axios from \"axios\";\nimport Head from \"next/head\";\n\nconst Home = props => {\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsxs(Head, {\n      children: [/*#__PURE__*/_jsx(\"title\", {\n        children: \"DCC Scanner\"\n      }), /*#__PURE__*/_jsx(\"link\", {\n        rel: \"icon\",\n        href: \"/favicon.ico\"\n      })]\n    }), /*#__PURE__*/_jsx(\"div\", {\n      children: \"Homepage\"\n    }), /*#__PURE__*/_jsx(\"pre\", {\n      children: JSON.stringify(props, null, 2)\n    })]\n  });\n};\n\nexport const getServerSideProps = async ctx => {\n  // Construct App URL for server side fetching\n  const url = ctx.req.protocol + \"://\" + ctx.req.get(\"host\");\n\n  try {\n    // Check if user is authenticated\n    const {\n      data\n    } = await axios({\n      method: \"post\",\n      url: url + \"/api/auth\",\n      headers: ctx.req.headers\n    });\n    return {\n      props: {\n        data\n      }\n    };\n  } catch (error) {\n    console.warn(\"Error from Index.js: \", error.message); // If user is not authenticated, redirect to /login\n\n    if (error.response.status > 400 && ctx.req) ctx.res.writeHead(302, {\n      Location: url + \"/login\"\n    });\n    ctx.res.end();\n    return {\n      props: {\n        data: error.response.data\n      }\n    };\n  }\n};\nexport default Home;","map":null,"metadata":{},"sourceType":"module"}