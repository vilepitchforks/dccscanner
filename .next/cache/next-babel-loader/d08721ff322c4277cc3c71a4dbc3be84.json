{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/angelovski/Documents/Projects/dccscanner/web/src/components/NewScanForm/NewScanForm.js\";\nimport { useEffect, useState } from \"react\";\nimport { useStoreActions } from \"easy-peasy\";\nimport css from \"./NewScanForm.module.css\";\n\nconst Category = ({\n  ctg,\n  deleteCategory\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: css.chip,\n  role: \"button\",\n  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n    className: css[\"chip-label\"],\n    children: ctg\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n    className: css[\"chip-delete\"],\n    onClick: e => deleteCategory(ctg),\n    viewBox: \"0 0 24 24\",\n    children: /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 7,\n  columnNumber: 3\n}, this);\n\nconst NewScanForm = ({\n  loading,\n  url,\n  setUrl,\n  slugs,\n  handleSlugs\n}) => {\n  const {\n    0: categories,\n    1: setCategories\n  } = useState([]);\n  const {\n    setScanCtgs\n  } = useStoreActions(actions => actions);\n\n  const deleteCategory = ctg => setCategories(categories.filter(category => category !== ctg));\n\n  useEffect(() => {\n    const ctgsSet = new Set(categories); // ?url=https://www.url.com&categories=shop,first,second\n\n    setScanCtgs(Array.from(ctgsSet).join());\n  }, [categories]);\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: e => {\n      e.preventDefault();\n      handleSlugs();\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"url\",\n      children: \"URL\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"u-full-width\",\n      type: \"url\",\n      placeholder: \"https://www.website.com\",\n      id: \"url\",\n      value: url,\n      onInput: e => setUrl(e.target.value),\n      onBlur: () => handleSlugs()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"slugs\",\n      children: \"Category\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      name: \"slugs\",\n      id: \"slig-list\",\n      className: \"u-full-width\",\n      onInput: e => setCategories(ctgs => [...ctgs, e.target.value]),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: loading ? \"--Fetching slugs...--\" : \"--Select a slug--\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), slugs.map((slug, i) => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: slug,\n        children: slug\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: css[\"chip-container\"],\n      children: categories.map((category, i) => /*#__PURE__*/_jsxDEV(Category, {\n        ctg: category,\n        deleteCategory: deleteCategory\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n\nexport default NewScanForm;","map":{"version":3,"sources":["/home/angelovski/Documents/Projects/dccscanner/web/src/components/NewScanForm/NewScanForm.js"],"names":["useEffect","useState","useStoreActions","css","Category","ctg","deleteCategory","chip","e","NewScanForm","loading","url","setUrl","slugs","handleSlugs","categories","setCategories","setScanCtgs","actions","filter","category","ctgsSet","Set","Array","from","join","preventDefault","target","value","ctgs","map","slug","i"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useStoreActions } from \"easy-peasy\";\n\nimport css from \"./NewScanForm.module.css\";\n\nconst Category = ({ ctg, deleteCategory }) => (\n  <div className={css.chip} role=\"button\">\n    <span className={css[\"chip-label\"]}>{ctg}</span>\n    <svg\n      className={css[\"chip-delete\"]}\n      onClick={e => deleteCategory(ctg)}\n      viewBox=\"0 0 24 24\"\n    >\n      <path d=\"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z\"></path>\n    </svg>\n  </div>\n);\n\nconst NewScanForm = ({ loading, url, setUrl, slugs, handleSlugs }) => {\n  const [categories, setCategories] = useState([]);\n\n  const { setScanCtgs } = useStoreActions(actions => actions);\n\n  const deleteCategory = ctg =>\n    setCategories(categories.filter(category => category !== ctg));\n\n  useEffect(() => {\n    const ctgsSet = new Set(categories);\n    // ?url=https://www.url.com&categories=shop,first,second\n    setScanCtgs(Array.from(ctgsSet).join());\n  }, [categories]);\n\n  return (\n    <form\n      onSubmit={e => {\n        e.preventDefault();\n        handleSlugs();\n      }}\n    >\n      <label htmlFor=\"url\">URL</label>\n      <input\n        className=\"u-full-width\"\n        type=\"url\"\n        placeholder=\"https://www.website.com\"\n        id=\"url\"\n        value={url}\n        onInput={e => setUrl(e.target.value)}\n        onBlur={() => handleSlugs()}\n      />\n      <label htmlFor=\"slugs\">Category</label>\n      <select\n        name=\"slugs\"\n        id=\"slig-list\"\n        className=\"u-full-width\"\n        onInput={e => setCategories(ctgs => [...ctgs, e.target.value])}\n      >\n        <option value=\"\">\n          {loading ? \"--Fetching slugs...--\" : \"--Select a slug--\"}\n        </option>\n        {slugs.map((slug, i) => (\n          <option key={i} value={slug}>\n            {slug}\n          </option>\n        ))}\n      </select>\n      <div className={css[\"chip-container\"]}>\n        {categories.map((category, i) => (\n          <Category key={i} ctg={category} deleteCategory={deleteCategory} />\n        ))}\n      </div>\n    </form>\n  );\n};\n\nexport default NewScanForm;\n"]},"metadata":{},"sourceType":"module"}