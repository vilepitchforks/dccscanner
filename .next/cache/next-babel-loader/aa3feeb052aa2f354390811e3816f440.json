{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect, useRef } from \"react\";\nimport { useStoreState } from \"easy-peasy\";\nimport css from \"./ScanLog.module.css\";\n\nvar ScanLog = function ScanLog() {\n  var scanLogRref = useRef();\n\n  var _useStoreState = useStoreState(function (state) {\n    return state;\n  }),\n      scanUrl = _useStoreState.scanUrl,\n      infoEvents = _useStoreState.infoEvents,\n      errorEvents = _useStoreState.errorEvents,\n      scanInProgress = _useStoreState.scanInProgress;\n\n  useEffect(function () {\n    var child = scanLogRref.current.lastElementChild;\n    child && child.scrollIntoViewIfNeeded && child.scrollIntoViewIfNeeded(true);\n  }, [infoEvents]);\n\n  var setScanStatusText = function setScanStatusText() {\n    // if (!scanInProgress && scanUrl.length) return \"Scan starting...\";\n    if (scanInProgress) return \"Scan in progress...\";\n    if (!scanInProgress && scanUrl.length && infoEvents.length) return \"Scan completed.\";\n    return \"\";\n  };\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: css.buildView,\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: \"\".concat(css.buildStreamFull, \" \").concat(css.buildStream),\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        ref: scanLogRref,\n        className: css.buildStreamOutput,\n        children: infoEvents.map(function (event, i) {\n          return /*#__PURE__*/_jsx(\"pre\", {\n            className: css.buildStreamLine,\n            children: event\n          }, i);\n        })\n      }), /*#__PURE__*/_jsxs(\"footer\", {\n        className: css.buildStreamFooter,\n        children: [/*#__PURE__*/_jsxs(\"span\", {\n          className: css.gray,\n          children: [setScanStatusText(), \" \"]\n        }), errorEvents.length ? errorEvents.map(function (event, i) {\n          return /*#__PURE__*/_jsx(\"span\", {\n            className: css.red,\n            children: event\n          }, i);\n        }) : \"\"]\n      })]\n    })\n  });\n};\n\nexport default ScanLog;","map":null,"metadata":{},"sourceType":"module"}