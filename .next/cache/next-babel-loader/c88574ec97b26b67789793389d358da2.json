{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useEffect, useState } from \"react\";\nimport { useStoreActions } from \"easy-peasy\";\nimport css from \"./NewScanForm.module.css\";\n\nconst Category = ({\n  ctg,\n  deleteCategory\n}) => /*#__PURE__*/_jsxs(\"div\", {\n  className: css.chip,\n  role: \"button\",\n  children: [/*#__PURE__*/_jsx(\"span\", {\n    className: css[\"chip-label\"],\n    children: ctg\n  }), /*#__PURE__*/_jsx(\"svg\", {\n    className: css[\"chip-delete\"],\n    onClick: e => deleteCategory(ctg),\n    viewBox: \"0 0 24 24\",\n    children: /*#__PURE__*/_jsx(\"path\", {\n      d: \"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z\"\n    })\n  })]\n});\n\nconst NewScanForm = ({\n  loading,\n  url,\n  setUrl,\n  slugs,\n  handleSlugs\n}) => {\n  const {\n    0: categories,\n    1: setCategories\n  } = useState([]);\n  const {\n    setScanCtgs\n  } = useStoreActions(actions => actions);\n\n  const deleteCategory = ctg => setCategories(categories.filter(category => category !== ctg));\n\n  useEffect(() => {\n    const ctgsSet = new Set(categories); // ?url=https://www.url.com&categories=shop,first,second\n\n    setScanCtgs(Array.from(ctgsSet).join());\n  }, [categories]);\n  return /*#__PURE__*/_jsxs(\"form\", {\n    onSubmit: e => {\n      e.preventDefault();\n      handleSlugs();\n    },\n    children: [/*#__PURE__*/_jsx(\"label\", {\n      htmlFor: \"url\",\n      children: \"URL\"\n    }), /*#__PURE__*/_jsx(\"input\", {\n      className: \"u-full-width\",\n      type: \"url\",\n      placeholder: \"https://www.website.com\",\n      id: \"url\",\n      value: url,\n      onInput: e => setUrl(e.target.value),\n      onBlur: () => handleSlugs()\n    }), /*#__PURE__*/_jsx(\"label\", {\n      htmlFor: \"slugs\",\n      children: \"Category\"\n    }), /*#__PURE__*/_jsxs(\"select\", {\n      name: \"slugs\",\n      id: \"slig-list\",\n      className: \"u-full-width\",\n      onInput: e => setCategories(ctgs => [...ctgs, e.target.value]),\n      children: [/*#__PURE__*/_jsx(\"option\", {\n        value: \"\",\n        children: loading ? \"--Fetching slugs...--\" : \"--Select a slug--\"\n      }), slugs.map((slug, i) => /*#__PURE__*/_jsx(\"option\", {\n        value: slug,\n        children: slug\n      }, i))]\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: css[\"chip-container\"],\n      children: categories.map((category, i) => /*#__PURE__*/_jsx(Category, {\n        ctg: category,\n        deleteCategory: deleteCategory\n      }, i))\n    })]\n  });\n};\n\nexport default NewScanForm;","map":null,"metadata":{},"sourceType":"module"}