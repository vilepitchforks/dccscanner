{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useEffect, useState } from \"react\";\nimport { useStoreActions } from \"easy-peasy\";\nimport css from \"./NewScanForm.module.css\";\n\nvar Category = function Category(_ref) {\n  var ctg = _ref.ctg,\n      deleteCategory = _ref.deleteCategory;\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: css.chip,\n    role: \"button\",\n    children: [/*#__PURE__*/_jsx(\"span\", {\n      className: css[\"chip-label\"],\n      children: ctg\n    }), /*#__PURE__*/_jsx(\"svg\", {\n      className: css[\"chip-delete\"],\n      onClick: function onClick(e) {\n        return deleteCategory(ctg);\n      },\n      viewBox: \"0 0 24 24\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z\"\n      })\n    })]\n  });\n};\n\nvar NewScanForm = function NewScanForm(_ref2) {\n  var loading = _ref2.loading,\n      url = _ref2.url,\n      setUrl = _ref2.setUrl,\n      slugs = _ref2.slugs,\n      handleSlugs = _ref2.handleSlugs;\n\n  var _useState = useState([]),\n      categories = _useState[0],\n      setCategories = _useState[1];\n\n  var _useStoreActions = useStoreActions(function (actions) {\n    return actions;\n  }),\n      setScanCtgs = _useStoreActions.setScanCtgs;\n\n  var deleteCategory = function deleteCategory(ctg) {\n    return setCategories(categories.filter(function (category) {\n      return category !== ctg;\n    }));\n  };\n\n  useEffect(function () {\n    var ctgsSet = new Set(categories); // ?url=https://www.url.com&categories=shop,first,second\n\n    setScanCtgs(Array.from(ctgsSet).join());\n  }, [categories]);\n  return /*#__PURE__*/_jsxs(\"form\", {\n    onSubmit: function onSubmit(e) {\n      e.preventDefault();\n      handleSlugs();\n    },\n    children: [/*#__PURE__*/_jsx(\"label\", {\n      htmlFor: \"url\",\n      children: \"URL\"\n    }), /*#__PURE__*/_jsx(\"input\", {\n      className: \"u-full-width\",\n      type: \"url\",\n      placeholder: \"https://www.website.com\",\n      id: \"url\",\n      value: url,\n      onInput: function onInput(e) {\n        return setUrl(e.target.value);\n      },\n      onBlur: function onBlur() {\n        return handleSlugs();\n      }\n    }), /*#__PURE__*/_jsx(\"label\", {\n      htmlFor: \"slugs\",\n      children: \"Category\"\n    }), /*#__PURE__*/_jsxs(\"select\", {\n      name: \"slugs\",\n      id: \"slig-list\",\n      className: \"u-full-width\",\n      onInput: function onInput(e) {\n        return setCategories(function (ctgs) {\n          return [].concat(_toConsumableArray(ctgs), [e.target.value]);\n        });\n      },\n      children: [/*#__PURE__*/_jsx(\"option\", {\n        value: \"\",\n        children: loading ? \"--Fetching slugs...--\" : \"--Select a slug--\"\n      }), slugs.map(function (slug, i) {\n        return /*#__PURE__*/_jsx(\"option\", {\n          value: slug,\n          children: slug\n        }, i);\n      })]\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: css[\"chip-container\"],\n      children: categories.map(function (category, i) {\n        return /*#__PURE__*/_jsx(Category, {\n          ctg: category,\n          deleteCategory: deleteCategory\n        }, i);\n      })\n    })]\n  });\n};\n\nexport default NewScanForm;","map":null,"metadata":{},"sourceType":"module"}