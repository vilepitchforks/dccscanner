(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{6429:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return e(9126)}])},5399:function(n,t,e){"use strict";e.d(t,{E:function(){return u},Z:function(){return s}});var r=e(7568),i=e(4051),a=e.n(i),o=function(n){var t=n.method,e=n.endpoint,i=n.format;return function(){var n=(0,r.Z)(a().mark((function n(r){var o,u,s,c,l,d;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=r.email,u=r.query,s=r.body,n.prev=1,e=e.split("?")[0],e=u?e+"?"+u:e,c={method:t,credentials:"same-origin",headers:{}},o&&(c.headers.Authorization="Basic "+btoa(o)),s&&(c.headers["Content-Type"]="application/json",c.body=JSON.stringify(s)),n.next=10,fetch(e,c).then((function(n){return l=n.status,n[i]()}));case 10:if(d=n.sent,200!==l&&201!==l){n.next=15;break}return n.abrupt("return",d);case 15:return n.abrupt("return",!1);case 16:n.next=22;break;case 18:return n.prev=18,n.t0=n.catch(1),console.warn("driver err",n.t0),n.abrupt("return",!1);case 22:case"end":return n.stop()}}),n,null,[[1,18]])})));return function(t){return n.apply(this,arguments)}}()},u=o({method:"POST",endpoint:"/api/auth",format:"text"}),s=o({method:"GET",endpoint:"/api/slug",format:"json"})},9126:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return _}});var r=e(5893),i=e(9008),a=e.n(i),o=e(7568),u=e(4051),s=e.n(u),c=e(1163),l=e.n(c),d=e(7294),p=e(7114),m=e.n(p),f=e(5399),h=function(){var n=(0,d.useState)(""),t=n[0],e=n[1],i=(0,d.useState)(""),a=i[0],u=i[1],c=function(){var n=(0,o.Z)(s().mark((function n(e){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),u(""),n.next=4,(0,f.E)({email:t});case 4:n.sent?l().replace("/"):u("Invalid credentials");case 6:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}();return(0,r.jsx)("div",{className:m().formContainer,children:(0,r.jsxs)("form",{className:m().loginForm,onSubmit:c,children:[(0,r.jsx)("input",{className:m().inputEmail,required:!0,name:"email",type:"email",placeholder:"Email",onInput:function(n){return e(n.target.value)}}),(0,r.jsx)("button",{className:"".concat(m().inputButton," green3"),type:"submit",children:"Enter"}),(0,r.jsx)("div",{className:m().invalidCreds,children:a})]})})},_=function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a(),{children:(0,r.jsx)("title",{children:"Login"})}),(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"column",children:(0,r.jsx)(h,{})})})})]})}},7114:function(n){n.exports={formContainer:"LoginForm_formContainer__yHc8S",loginForm:"LoginForm_loginForm__aYbxJ",inputEmail:"LoginForm_inputEmail__Ov_nW",inputButton:"LoginForm_inputButton__s8faH",invalidCreds:"LoginForm_invalidCreds__F0VX8"}},9008:function(n,t,e){n.exports=e(5443)},1163:function(n,t,e){n.exports=e(387)}},function(n){n.O(0,[774,888,179],(function(){return t=6429,n(n.s=t);var t}));var t=n.O();_N_E=t}]);