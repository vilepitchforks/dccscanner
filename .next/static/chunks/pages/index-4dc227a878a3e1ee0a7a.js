_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[8],{"/0+H":function(e,t,n){"use strict";t.__esModule=!0,t.isInAmpMode=o,t.useAmp=function(){return o(a.default.useContext(i.AmpStateContext))};var r,a=(r=n("q1tI"))&&r.__esModule?r:{default:r},i=n("lwAK");function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ampFirst,n=void 0!==t&&t,r=e.hybrid,a=void 0!==r&&r,i=e.hasQuery,o=void 0!==i&&i;return n||a&&o}},"0JKX":function(e,t,n){e.exports={navbar:"Navbar_navbar__1cna4",logo:"Navbar_logo__3vj75",avatar:"Navbar_avatar__1fF3I"}},"2Lq3":function(e,t,n){e.exports={"chip-container":"NewScanForm_chip-container__13qGe",chip:"NewScanForm_chip__2rt7x","chip-label":"NewScanForm_chip-label__SpQOC","chip-delete":"NewScanForm_chip-delete__1EuhR"}},"2jIc":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TAB_KEY=9,t.ENTER_KEY=13,t.ESCAPE_KEY=27,t.LEFT_KEY=37,t.UP_KEY=38,t.RIGHT_KEY=39,t.DOWN_KEY=40,t.DELETE_KEY=46,t.BACKSPACE_KEY=8},"34jG":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("q1tI"),i=h(a),o=h(n("17x9")),s=n("2jIc"),u=h(n("z6b+")),c=h(n("gtyc")),l=h(n("j1uu")),d=h(n("E1F2")),f=n("S5K1");function h(e){return e&&e.__esModule?e:{default:e}}function p(e){var t=e.cell,n=e.row,r=e.col,a=e.valueRenderer,i=e.dataRenderer;return(0,f.renderData)(t,n,r,a,i)}function b(e){var t=e.cell,n=e.row,r=e.col,a=e.valueRenderer;return(0,f.renderValue)(t,n,r,a)}function v(e){var t="number"===typeof e.width?e.width+"px":e.width;return t?{width:t}:null}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=n.handleChange.bind(n),n.handleCommit=n.handleCommit.bind(n),n.handleRevert=n.handleRevert.bind(n),n.handleKey=n.handleKey.bind(n),n.handleMouseDown=n.handleMouseDown.bind(n),n.handleMouseOver=n.handleMouseOver.bind(n),n.handleContextMenu=n.handleContextMenu.bind(n),n.handleDoubleClick=n.handleDoubleClick.bind(n),n.state={updated:!1,reverting:!1,committing:!1,value:""},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.cell.disableUpdatedFlag||b(e)===b(this.props)||(this.setState({updated:!0}),this.timeout=setTimeout((function(){return t.setState({updated:!1})}),700)),!0===this.props.editing&&!1===e.editing){var n=this.props.clearing?"":p(this.props);this.setState({value:n,reverting:!1})}!0!==e.editing||!1!==this.props.editing||this.state.reverting||this.state.committing||this.state.value===p(this.props)||this.props.onChange(this.props.row,this.props.col,this.state.value)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"handleChange",value:function(e){this.setState({value:e,committing:!1})}},{key:"handleCommit",value:function(e,t){var n=this.props,r=n.onChange,a=n.onNavigate;e!==p(this.props)?(this.setState({value:e,committing:!0}),r(this.props.row,this.props.col,e)):this.handleRevert(),t&&(t.preventDefault(),a(t,!0))}},{key:"handleRevert",value:function(){this.setState({reverting:!0}),this.props.onRevert()}},{key:"handleMouseDown",value:function(e){var t=this.props,n=t.row,r=t.col,a=t.onMouseDown;t.cell.disableEvents||a(n,r,e)}},{key:"handleMouseOver",value:function(e){var t=this.props,n=t.row,r=t.col,a=t.onMouseOver;t.cell.disableEvents||a(n,r)}},{key:"handleDoubleClick",value:function(e){var t=this.props,n=t.row,r=t.col,a=t.onDoubleClick;t.cell.disableEvents||a(n,r)}},{key:"handleContextMenu",value:function(e){var t=this.props,n=t.row,r=t.col,a=t.onContextMenu;t.cell.disableEvents||a(e,n,r)}},{key:"handleKey",value:function(e){var t=e.which||e.keyCode;if(t===s.ESCAPE_KEY)return this.handleRevert();var n=this.props,r=n.cell.component,a=n.forceEdit||!!r;(t===s.ENTER_KEY||t===s.TAB_KEY||!a&&[s.LEFT_KEY,s.RIGHT_KEY,s.UP_KEY,s.DOWN_KEY].includes(t))&&this.handleCommit(this.state.value,e)}},{key:"renderComponent",value:function(e,t){var n=t.component,r=t.readOnly,a=t.forceComponent;if(e&&!r||a)return n}},{key:"renderEditor",value:function(e,t,n,r,a){if(e){var o=t.dataEditor||a||l.default;return i.default.createElement(o,{cell:t,row:n,col:r,value:this.state.value,onChange:this.handleChange,onCommit:this.handleCommit,onRevert:this.handleRevert,onKeyDown:this.handleKey})}}},{key:"renderViewer",value:function(e,t,n,r,a){var o=e.valueViewer||a||d.default,s=(0,f.renderValue)(e,t,n,r);return i.default.createElement(o,{cell:e,row:t,col:n,value:s})}},{key:"render",value:function(){var e=this.props,t=e.row,n=e.col,r=e.cell,a=e.cellRenderer,o=e.valueRenderer,s=e.dataEditor,u=e.valueViewer,c=e.attributesRenderer,l=e.selected,d=e.editing,f=e.onKeyUp,h=this.state.updated,p=this.renderComponent(d,r)||this.renderEditor(d,r,t,n,s)||this.renderViewer(r,t,n,o,u),b=[r.className,"cell",r.overflow,l&&"selected",d&&"editing",r.readOnly&&"read-only",h&&"updated"].filter((function(e){return e})).join(" ");return i.default.createElement(a,{row:t,col:n,cell:r,selected:l,editing:d,updated:h,attributesRenderer:c,className:b,style:v(r),onMouseDown:this.handleMouseDown,onMouseOver:this.handleMouseOver,onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleContextMenu,onKeyUp:f},p)}}]),t}(a.PureComponent);t.default=m,m.propTypes={row:o.default.number.isRequired,col:o.default.number.isRequired,cell:o.default.shape(c.default).isRequired,forceEdit:o.default.bool,selected:o.default.bool,editing:o.default.bool,editValue:o.default.any,clearing:o.default.bool,cellRenderer:o.default.func,valueRenderer:o.default.func.isRequired,dataRenderer:o.default.func,valueViewer:o.default.func,dataEditor:o.default.func,attributesRenderer:o.default.func,onNavigate:o.default.func.isRequired,onMouseDown:o.default.func.isRequired,onMouseOver:o.default.func.isRequired,onDoubleClick:o.default.func.isRequired,onContextMenu:o.default.func.isRequired,onChange:o.default.func.isRequired,onRevert:o.default.func.isRequired,onEdit:o.default.func},m.defaultProps={forceEdit:!1,selected:!1,editing:!1,clearing:!1,cellRenderer:u.default}},"3niX":function(e,t,n){"use strict";t.__esModule=!0,t.flush=function(){var e=i.cssRules();return i.flush(),e},t.default=void 0;var r,a=n("q1tI");var i=new(((r=n("SevZ"))&&r.__esModule?r:{default:r}).default),o=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).prevProps={},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.dynamic=function(e){return e.map((function(e){var t=e[0],n=e[1];return i.computeId(t,n)})).join(" ")};var a=r.prototype;return a.shouldComponentUpdate=function(e){return this.props.id!==e.id||String(this.props.dynamic)!==String(e.dynamic)},a.componentWillUnmount=function(){i.remove(this.props)},a.render=function(){return this.shouldComponentUpdate(this.prevProps)&&(this.prevProps.id&&i.remove(this.prevProps),i.add(this.props),this.prevProps=this.props),null},r}(a.Component);t.default=o},"8Kt/":function(e,t,n){"use strict";n("lSNA");t.__esModule=!0,t.defaultHead=l,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n("q1tI")),i=(r=n("Xuae"))&&r.__esModule?r:{default:r},o=n("lwAK"),s=n("FYa8"),u=n("/0+H");function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[a.default.createElement("meta",{charSet:"utf-8"})];return e||t.push(a.default.createElement("meta",{name:"viewport",content:"width=device-width"})),t}function d(e,t){return"string"===typeof t||"number"===typeof t?e:t.type===a.default.Fragment?e.concat(a.default.Children.toArray(t.props.children).reduce((function(e,t){return"string"===typeof t||"number"===typeof t?e:e.concat(t)}),[])):e.concat(t)}var f=["name","httpEquiv","charSet","itemProp"];function h(e,t){return e.reduce((function(e,t){var n=a.default.Children.toArray(t.props.children);return e.concat(n)}),[]).reduce(d,[]).reverse().concat(l(t.inAmpMode)).filter(function(){var e=new Set,t=new Set,n=new Set,r={};return function(a){var i=!0;if(a.key&&"number"!==typeof a.key&&a.key.indexOf("$")>0){var o=a.key.slice(a.key.indexOf("$")+1);e.has(o)?i=!1:e.add(o)}switch(a.type){case"title":case"base":t.has(a.type)?i=!1:t.add(a.type);break;case"meta":for(var s=0,u=f.length;s<u;s++){var c=f[s];if(a.props.hasOwnProperty(c))if("charSet"===c)n.has(c)?i=!1:n.add(c);else{var l=a.props[c],d=r[c]||new Set;d.has(l)?i=!1:(d.add(l),r[c]=d)}}}return i}}()).reverse().map((function(e,t){var n=e.key||t;return a.default.cloneElement(e,{key:n})}))}function p(e){var t=e.children,n=(0,a.useContext)(o.AmpStateContext),r=(0,a.useContext)(s.HeadManagerContext);return a.default.createElement(i.default,{reduceComponentsToState:h,headManager:r,inAmpMode:(0,u.isInAmpMode)(n)},t)}p.rewind=function(){};var b=p;t.default=b},"9kyW":function(e,t,n){"use strict";e.exports=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0}},Bnag:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},E1F2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("q1tI"),i=u(a),o=u(n("17x9")),s=u(n("gtyc"));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var d=function(e){function t(){return c(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){var e=this.props.value;return i.default.createElement("span",{className:"value-viewer"},e)}}]),t}(a.PureComponent);t.default=d,d.propTypes={row:o.default.number.isRequired,col:o.default.number.isRequired,cell:o.default.shape(s.default),value:o.default.node.isRequired}},EbDI:function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},Ijbi:function(e,t,n){var r=n("WkPL");e.exports=function(e){if(Array.isArray(e))return r(e)}},"J/vx":function(e,t,n){e.exports={newScan:"NewScanIcon_newScan__7Yhdj",label:"NewScanIcon_label__3VVIB",icon:"NewScanIcon_icon__2pjj8"}},JkKi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("q1tI"),i=s(a),o=s(n("17x9"));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var l=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){return i.default.createElement("table",{className:this.props.className},i.default.createElement("tbody",null,this.props.children))}}]),t}(a.PureComponent);l.propTypes={className:o.default.string,data:o.default.array.isRequired},t.default=l},MX0m:function(e,t,n){e.exports=n("3niX")},"O1+1":function(e,t,n){e.exports={"scans-row":"Scans_scans-row__qpn9s"}},RIqP:function(e,t,n){var r=n("Ijbi"),a=n("EbDI"),i=n("ZhPi"),o=n("Bnag");e.exports=function(e){return r(e)||a(e)||i(e)||o()}},RXBc:function(e,t,n){"use strict";n.r(t),n.d(t,"__N_SSP",(function(){return _e}));var r=n("nKUr"),a=n("g4pe"),i=n.n(a),o=n("0JKX"),s=n.n(o),u=function(e){var t=e.user;return t=t[0].toUpperCase(),Object(r.jsxs)("nav",{className:s.a.navbar,children:[Object(r.jsx)("img",{className:s.a.logo,src:"/logo192.png"}),Object(r.jsx)("div",{className:s.a.avatar,children:t})]})},c=n("q1tI"),l=n.n(c),d=n("S9FO"),f=n("o0o1"),h=n.n(f),p=n("HaE+"),b=n("rePB");n("4BP2");var v=n("tZ2U"),m=n.n(v),y=n("mNts"),j=n.n(y),g=function(){var e=Object(c.useRef)(),t=Object(d.useStoreState)((function(e){return e})),n=t.infoEvents,a=t.errorEvents,i=t.scanInProgress;return Object(c.useEffect)((function(){var t=e.current.lastElementChild;t&&t.scrollIntoViewIfNeeded&&t.scrollIntoViewIfNeeded(!0)}),[n]),Object(r.jsx)("div",{className:j.a.buildView,children:Object(r.jsxs)("div",{className:"".concat(j.a.buildStreamFull," ").concat(j.a.buildStream),children:[Object(r.jsx)("div",{ref:e,className:j.a.buildStreamOutput,children:n.map((function(e,t){return Object(r.jsx)("pre",{className:j.a.buildStreamLine,children:e},t)}))}),Object(r.jsxs)("footer",{className:j.a.buildStreamFooter,children:[!i&&n.length?Object(r.jsx)("span",{className:j.a.gray,children:"Scan completed. "}):"",a.length?a.map((function(e,t){return Object(r.jsx)("span",{className:j.a.red,children:e},t)})):""]})]})})},_=function(){var e=Object(c.useState)(!1),t=e[0],n=e[1],a=Object(d.useStoreState)((function(e){return e})),i=a.scanUrl,o=a.metadata,s=a.dataEvents,u=a.db,l=a.scanInProgress,f=Object(d.useStoreActions)((function(e){return e}));Object(c.useEffect)((function(){i&&!l&&f.addInfoEvent("Scan data for ".concat(i," successfully processed.")),i&&!l&&!s.length&&f.addInfoEvent("No bvDCC data found for ".concat(i,"."))}),[l,s]),Object(c.useEffect)((function(){Object(p.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s[s.length-1],e.t0=t,!e.t0){e.next=5;break}return e.next=5,u.collection("dccdata").insert(t,(function(){f.addInfoEvent("Scan data for item ".concat(t.scannedUrl," successfully stored."))}));case 5:case"end":return e.stop()}}),e)})))()}),[s]);var b=o.icon,v=o.title;return Object(r.jsx)("div",{className:"row",children:Object(r.jsxs)("div",{className:"column",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("img",{className:"u-pull-left icon",src:b||"./logo192.png",alt:"icon"}),Object(r.jsx)("h5",{className:m.a.title,children:i&&v.length?v:"Click on the + icon in the lower right corner of the screen to start a new scan."})]}),Object(r.jsxs)("span",{className:m.a["view-log"],onClick:function(){return n(!t)},children:[t?"Hide":"View"," scan log"]}),t&&Object(r.jsx)(g,{})]})})},O=n("O1+1"),w=n.n(O),S=n("ZRC5"),x=n.n(S),C=function(e){var t=e.thumbnail,n=e.setShowModal,a=e.setsSlectedWeb,i=e.setMetaArray,o=t.url,s=t.image,u=t.icon,c=t.title,l=t.description,f=t.scannedUrl,b=Object(d.useStoreState)((function(e){return e})),v=b.scanUrl,m=b.db,y=function(){var e=Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.remove(f);case 2:i((function(e){return e.filter((function(e){return e.scannedUrl!==f}))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:x.a["thumbnail-plh"]+" columns three",children:[Object(r.jsxs)("div",{className:x.a["thumbnail-img-plh"],children:[f!==v&&Object(r.jsx)("svg",{className:x.a["thumbnail-close-icon"],onClick:function(){return y()},viewBox:"0 0 24 24",children:Object(r.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"})}),Object(r.jsx)("img",{className:x.a["thumbnail-img"],src:s||"./placeholder.gif",alt:l,title:l})]}),Object(r.jsxs)("div",{className:x.a["thumbnail-body-plh"],children:[Object(r.jsx)("img",{className:x.a["thumbnail-icon"]+" u-pull-left",src:u||"./favicon.ico",alt:"icon"}),Object(r.jsx)("h6",{className:x.a["thumbnail-title"],alt:c,title:c,children:c||"Lorem ipsum dolor sit."}),Object(r.jsx)("a",{title:o,className:x.a["thumbnail-link"],onClick:function(){n(!0),a(f)},children:"View DCC data"})]})]})},k=n("Zhz7"),E=n.n(k),R=function(e){var t=e.children,n=e.trigger;return Object(r.jsx)("div",{className:E.a.background,onClick:function(e){return/background/.test(e.target.className)&&n(!1)},children:t})};function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var P=function(e){var t=e.length?Object.keys(e[0]).length:15,n=Array.from({length:t},(function(e,t){return{value:" "}})),r=Array.from({length:36},(function(e,t){return n}));if(!e.length)return r;var a=Object.keys(e[0]).map((function(e){return{value:e}})),i=e.map((function(e){return Object.values(e)})).map((function(e){return e.map((function(e){return{value:Array.isArray(e)?JSON.stringify(e):e}}))}));return[a].concat(M(i),M(r))},D=n("MX0m"),A=n.n(D),I=n("1OyB"),T=n("vuIU");function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e){return(F="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){return!t||"object"!==F(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var L=n("Zxox"),U=n.n(L);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=z(e);if(t){var a=z(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return q(this,n)}}var W=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(n,e);var t=Y(n);function n(e){var r;return Object(I.a)(this,n),(r=t.call(this,e)).state={grid:[]},r}return Object(T.a)(n,[{key:"render",value:function(){var e=this;return Object(r.jsx)(U.a,{data:this.state.grid,valueRenderer:function(e){return e.value},onCellsChanged:function(t){var n=e.props.data.map((function(e){return M(e)}));t.forEach((function(e){e.cell;var t=e.row,r=e.col,a=e.value;n[t][r]=V(V({},n[t][r]),{},{value:a})})),e.setState({grid:n})}})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{grid:e.data}}}]),n}(l.a.Component),H=function(e){var t=e.selectedWeb,n=Object(c.useState)(!0),a=n[0],i=n[1],o=Object(c.useState)([]),s=o[0],u=o[1],l=Object(c.useState)(null),f=l[0],b=l[1],v=Object(c.useState)([]),m=v[0],y=v[1],j=Object(c.useState)([]),g=j[0],_=j[1],O=Object(c.useState)([]),w=O[0],S=O[1],x=Object(c.useState)([]),C=x[0],k=x[1],E=Object(d.useStoreState)((function(e){return e})).db;Object(c.useEffect)((function(){Object(p.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.col("dccdata").findAsArray({url:t},{_id:0,url:0});case 2:(n=e.sent).length?y(n):i(!1);case 4:case"end":return e.stop()}}),e)})))()}),[]),Object(c.useEffect)((function(){var e=new Set(m.map((function(e){return e.timestamp}))),t=Array.from(e);t.length&&u(t.reverse())}),[m]),Object(c.useEffect)((function(){var e=s.length&&s.map((function(e){return m.filter((function(t){return t.timestamp===e}))}));e.length&&_(e)}),[s]),Object(c.useEffect)((function(){var e=g.length?g.map((function(e){return P(e)})):[];e.length&&S(e)}),[g]),Object(c.useEffect)((function(){var e=g.length&&g.findIndex((function(e){return e[0].timestamp===f}));e=-1===e?0:e,w.length&&k(w[e]||[])}),[g,f,w]);var R=function(e){var t=function(e){return e>9?e:"0"+e},n=new Date(e).getFullYear(),r=t(new Date(e).getMonth()+1),a=t(new Date(e).getDate()),i=t(new Date(e).getHours()),o=t(new Date(e).getMinutes());return"".concat(n,"-").concat(r,"-").concat(a," ").concat(i,":").concat(o)};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"jsx-3655797331 data-container",children:[Object(r.jsxs)("div",{className:"jsx-3655797331 data-head",children:[Object(r.jsx)("div",{className:"jsx-3655797331 data-head-url",children:t}),Object(r.jsxs)("div",{className:"jsx-3655797331 data-head-element",children:[Object(r.jsx)("span",{className:"jsx-3655797331",children:!C.length&&a&&"Loading..."}),!a&&Object(r.jsxs)("span",{className:"jsx-3655797331",children:["DCC data unavailable for ",t]}),Object(r.jsx)("svg",{viewBox:"0 0 24 24",className:"jsx-3655797331 data-close-icon",children:Object(r.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z",className:"jsx-3655797331"})})]})]}),Object(r.jsxs)("div",{className:"jsx-3655797331 data-body",children:[Object(r.jsx)("div",{className:"jsx-3655797331 data-spreadsheet",children:C.length?Object(r.jsx)(W,{data:C}):Object(r.jsx)(W,{data:P([])})}),Object(r.jsx)("div",{className:"jsx-3655797331 data-dates-placeholder",children:Object(r.jsx)("div",{className:"jsx-3655797331 data-dates",children:s.map((function(e,t){return Object(r.jsx)("div",{onClick:function(){return b(e)},className:"jsx-3655797331",children:R(e)},t)}))})})]})]}),Object(r.jsx)(A.a,{id:"3655797331",children:[".data-container.jsx-3655797331{background:red;margin:20px;height:calc(100vh - 40px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".data-head.jsx-3655797331{background:green;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}",".data-head-url.jsx-3655797331{background:darkmagenta;width:25rem;-webkit-flex:none;-ms-flex:none;flex:none;}",".data-head-element.jsx-3655797331{background:darkorange;-webkit-flex:1 1 0%;-ms-flex:1 1 0%;flex:1 1 0%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}",".data-body.jsx-3655797331{background:blue;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;overflow-y:hidden;height:100%;}",".data-spreadsheet.jsx-3655797331{background:coral;overflow-y:auto;-webkit-flex:1 1 0%;-ms-flex:1 1 0%;flex:1 1 0%;}","data-dates-placeholder.jsx-3655797331{overflow-x:hidden;}",".data-dates.jsx-3655797331{background:blueviolet;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;overflow-x:auto;}",".data-dates.jsx-3655797331 div.jsx-3655797331{border:1px solid;margin:5px;white-space:nowrap;}",".data-close-icon.jsx-3655797331{width:15px;}"]})]})},Z=function(){var e,t=Object(c.useState)([]),n=t[0],a=t[1],i=Object(c.useState)(!1),o=i[0],s=i[1],u=Object(c.useState)(""),l=u[0],f=u[1],b=Object(d.useStoreState)((function(e){return e})),v=b.scanUrl,m=b.db,y=(e=n,Array.from({length:Math.ceil(e.length/4)},(function(t,n){var r=4*n;return e.slice(r,r+4)})));return Object(c.useEffect)((function(){Object(p.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object.keys(m).length){e.next=6;break}return e.next=3,m.col("metadata").findAsArray();case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=[];case 7:t=e.t0,a(t);case 9:case"end":return e.stop()}}),e)})))()}),[v,m]),Object(r.jsxs)(r.Fragment,{children:[y.map((function(e,t){return Object(r.jsx)("div",{className:w.a["scans-row"]+" row",children:e.map((function(e,t){return Object(r.jsx)(C,{thumbnail:e,setShowModal:s,setsSlectedWeb:f,setMetaArray:a},t)}))},t)})),o&&Object(r.jsx)(R,{trigger:s,children:Object(r.jsx)(H,{selectedWeb:l})})]})},J=function(){Object(d.useStoreState)((function(e){return e})).scanUrl;var e=Object(d.useStoreActions)((function(e){return e})).initDb;return Object(c.useEffect)((function(){return e()}),[]),Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)(_,{}),Object(r.jsx)(Z,{})]})},X=n("2Lq3"),G=n.n(X),$=function(e){var t=e.ctg,n=e.deleteCategory;return Object(r.jsxs)("div",{className:G.a.chip,role:"button",children:[Object(r.jsx)("span",{className:G.a["chip-label"],children:t}),Object(r.jsx)("svg",{className:G.a["chip-delete"],onClick:function(e){return n(t)},viewBox:"0 0 24 24",children:Object(r.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"})})]})},Q=function(e){var t=e.loading,n=e.url,a=e.setUrl,i=e.slugs,o=e.handleSlugs,s=Object(c.useState)([]),u=s[0],l=s[1],f=Object(d.useStoreActions)((function(e){return e})).setScanCtgs,h=function(e){return l(u.filter((function(t){return t!==e})))};return Object(c.useEffect)((function(){var e=new Set(u);f(Array.from(e).join())}),[u]),Object(r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),o()},children:[Object(r.jsx)("label",{htmlFor:"url",children:"URL"}),Object(r.jsx)("input",{className:"u-full-width",type:"url",placeholder:"https://www.website.com",id:"url",value:n,onInput:function(e){return a(e.target.value)},onBlur:function(){return o()}}),Object(r.jsx)("label",{htmlFor:"slugs",children:"Category"}),Object(r.jsxs)("select",{name:"slugs",id:"slig-list",className:"u-full-width",onInput:function(e){return l((function(t){return[].concat(M(t),[e.target.value])}))},children:[Object(r.jsx)("option",{value:"",children:t?"--Fetching slugs...--":"--Select a slug--"}),i.map((function(e,t){return Object(r.jsx)("option",{value:e,children:e},t)}))]}),Object(r.jsx)("div",{className:G.a["chip-container"],children:u.map((function(e,t){return Object(r.jsx)($,{ctg:e,deleteCategory:h},t)}))})]})},ee=n("peZr"),te=n.n(ee),ne=te.a["card-image"]+" three columns",re=function(){return Object(r.jsx)("div",{className:te.a.loading+" "+ne,children:"\xa0"})},ae=function(){return Object(r.jsx)("h5",{className:te.a.loading,children:"\xa0"})},ie=function(){return Object(r.jsx)("p",{className:te.a.loading,children:"\xa0"})},oe=function(e){var t=e.loading,n=e.isNew,a=Object(d.useStoreState)((function(e){return e})).metadata,i=a.description,o=a.icon,s=a.image,u=a.title,c=a.url;return Object(r.jsx)("div",{className:te.a["card-container"]+" nine columns",children:Object(r.jsxs)("a",{href:c,target:"_blank",children:[t?Object(r.jsx)(re,{}):Object(r.jsx)("div",{className:ne,children:Object(r.jsx)("img",{src:s||"./placeholder.gif",alt:u})}),Object(r.jsxs)("div",{className:te.a["card-body"]+" nine columns",children:[t?Object(r.jsx)(ae,{}):Object(r.jsxs)("div",{children:[Object(r.jsx)("img",{className:"u-pull-left icon",src:o||"./logo192.png",alt:"icon"}),Object(r.jsx)("h5",{children:n?"New DCC Scan":u})]}),t?Object(r.jsx)(ie,{}):Object(r.jsx)("p",{children:n?"Initiate a new scan by entering a website URL and selecting the slugs for scanning.":i})]})]})})},se=n("h+Fo"),ue=n.n(se),ce=function(e){var t=e.setNewScan,n=Object(d.useStoreState)((function(e){return e})),a=n.scanUrl,i=n.scanCtgs,o=Object(d.useStoreActions)((function(e){return e})).startStream;return Object(r.jsx)("button",{className:ue.a.start+" u-full-width",onClick:function(){return o("url=".concat(a,"&categories=").concat(i)),void t(!1)},children:"Start scan"})},le=n("l0SO"),de=n.n(le),fe=n("zgqH"),he=n("kHgJ");function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ve=function(e){var t=e.isNew,n=e.setIsNew,a=e.setNewScan,i=Object(c.useState)(!1),o=i[0],s=i[1],u=Object(c.useState)(""),l=u[0],f=u[1],b=Object(c.useState)([]),v=b[0],m=b[1],y=Object(d.useStoreState)((function(e){return e})),j=y.scanCtgs,g=y.db,_=Object(d.useStoreActions)((function(e){return e})),O=function(){var e=Object(p.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,g.collection("metadata").findOne({scannedUrl:l});case 3:if(!(t=e.sent)){e.next=10;break}return _.addInfoEvent("Metadata for ".concat(l," successfully fetched.")),s(!1),e.abrupt("return",{ok:!0,meta:t});case 10:return s(!1),e.abrupt("return",{ok:!1,meta:{}});case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(p.a)(h.a.mark((function e(){var t,n,r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),t={},n=!1,r=!1,e.next=4,Object(fe.b)({query:"url="+l});case 4:if((a=e.sent)&&a.metadata&&(n=!0),n&&(t=be({scannedUrl:l,slugs:a.slugs},a.metadata)),!n){e.next=10;break}return e.next=10,g.collection("metadata").insert(t,(function(){_.addInfoEvent("Metadata for ".concat(l," successfully stored.")),r=!0}));case 10:if(!r){e.next=15;break}return s(!1),e.abrupt("return",{ok:!0,meta:t});case 15:return s(!1),e.abrupt("return",{ok:!1,meta:t});case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(p.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:if(!(t=e.sent).ok){e.next=5;break}return e.abrupt("return",t.meta);case 5:return e.next=7,w();case 7:if(!(t=e.sent).ok){e.next=10;break}return e.abrupt("return",t.meta);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(p.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(he.urlRgx.test(l)){e.next=2;break}return e.abrupt("return");case 2:return n(!1),e.next=5,S();case 5:if(!(t=e.sent)){e.next=12;break}return _.setMetadata(t),m(t.slugs),e.abrupt("return",_.setScanUrl(l));case 12:n(!0),f("");case 14:return e.abrupt("return");case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){return function(){return n(!0)}}),[]),Object(r.jsx)(R,{trigger:a,children:Object(r.jsxs)("div",{className:de.a.modal,children:[Object(r.jsxs)("div",{className:"row flex",children:[Object(r.jsx)("div",{className:"three columns",children:Object(r.jsx)(Q,{loading:o,url:l,setUrl:f,slugs:v,handleSlugs:x})}),Object(r.jsx)(oe,{loading:o,isNew:t})]}),Object(r.jsx)("div",{className:"row",children:j&&Object(r.jsx)(ce,{setNewScan:a})})]})})},me=n("J/vx"),ye=n.n(me),je=function(e){var t=e.setNewScan,n=Object(d.useStoreActions)((function(e){return e})).reSetScanUrl;return Object(r.jsx)("button",{className:ye.a.newScan,type:"button",onClick:function(){n(),t(!0)},children:Object(r.jsx)("span",{className:ye.a.label,children:Object(r.jsx)("svg",{className:ye.a.icon,focusable:"false",viewBox:"0 0 24 24",children:Object(r.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})})})})},ge=function(){var e=Object(c.useState)(!0),t=e[0],n=e[1],a=Object(c.useState)(!1),i=a[0],o=a[1],s=Object(d.useStoreState)((function(e){return e})).scanInProgress;return Object(r.jsxs)(r.Fragment,{children:[i&&Object(r.jsx)(ve,{isNew:t,setIsNew:n,setNewScan:o}),!s&&Object(r.jsx)(je,{setNewScan:o})]})},_e=!0;t.default=function(e){var t=e.user;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(i.a,{children:[Object(r.jsx)("title",{children:"DCC Scanner"}),Object(r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),Object(r.jsx)(u,{user:t}),Object(r.jsx)(J,{}),Object(r.jsx)(ge,{})]})}},S5K1:function(e,t,n){"use strict";function r(e,t,n,r){var a=r(e,t,n);return null===a||"undefined"===typeof a?"":a}Object.defineProperty(t,"__esModule",{value:!0}),t.renderValue=r,t.renderData=function(e,t,n,a,i){var o=i?i(e,t,n):null;return null===o||"undefined"===typeof o?r(e,t,n,a):o}},SevZ:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n("9kyW")),a=i(n("bVZc"));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(e){var t=void 0===e?{}:e,n=t.styleSheet,r=void 0===n?null:n,i=t.optimizeForSpeed,o=void 0!==i&&i,s=t.isBrowser,u=void 0===s?"undefined"!==typeof window:s;this._sheet=r||new a.default({name:"styled-jsx",optimizeForSpeed:o}),this._sheet.inject(),r&&"boolean"===typeof o&&(this._sheet.setOptimizeForSpeed(o),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._isBrowser=u,this._fromServer=void 0,this._indices={},this._instancesCounts={},this.computeId=this.createComputeId(),this.computeSelector=this.createComputeSelector()}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._isBrowser&&!this._fromServer&&(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce((function(e,t){return e[t]=0,e}),{}));var n=this.getIdAndRules(e),r=n.styleId,a=n.rules;if(r in this._instancesCounts)this._instancesCounts[r]+=1;else{var i=a.map((function(e){return t._sheet.insertRule(e)})).filter((function(e){return-1!==e}));this._indices[r]=i,this._instancesCounts[r]=1}},t.remove=function(e){var t=this,n=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw new Error("StyleSheetRegistry: "+t+".")}(n in this._instancesCounts,"styleId: `"+n+"` not found"),this._instancesCounts[n]-=1,this._instancesCounts[n]<1){var r=this._fromServer&&this._fromServer[n];r?(r.parentNode.removeChild(r),delete this._fromServer[n]):(this._indices[n].forEach((function(e){return t._sheet.deleteRule(e)})),delete this._indices[n]),delete this._instancesCounts[n]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={},this.computeId=this.createComputeId(),this.computeSelector=this.createComputeSelector()},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map((function(t){return[t,e._fromServer[t]]})):[],n=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map((function(t){return[t,e._indices[t].map((function(e){return n[e].cssText})).join(e._optimizeForSpeed?"":"\n")]})).filter((function(e){return Boolean(e[1])})))},t.createComputeId=function(){var e={};return function(t,n){if(!n)return"jsx-"+t;var a=String(n),i=t+a;return e[i]||(e[i]="jsx-"+(0,r.default)(t+"-"+a)),e[i]}},t.createComputeSelector=function(e){void 0===e&&(e=/__jsx-style-dynamic-selector/g);var t={};return function(n,r){this._isBrowser||(r=r.replace(/\/style/gi,"\\/style"));var a=n+r;return t[a]||(t[a]=r.replace(e,n)),t[a]}},t.getIdAndRules=function(e){var t=this,n=e.children,r=e.dynamic,a=e.id;if(r){var i=this.computeId(a,r);return{styleId:i,rules:Array.isArray(n)?n.map((function(e){return t.computeSelector(i,e)})):[this.computeSelector(i,n)]}}return{styleId:this.computeId(a),rules:Array.isArray(n)?n:[n]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce((function(e,t){return e[t.id.slice(2)]=t,e}),{})},e}();t.default=o},Xuae:function(e,t,n){"use strict";var r=n("RIqP"),a=n("lwsE"),i=n("W8MJ"),o=(n("PJYZ"),n("7W2i")),s=n("a1gu"),u=n("Nsbk");function c(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var a=u(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return s(this,n)}}t.__esModule=!0,t.default=void 0;var l=n("q1tI"),d=function(e){o(n,e);var t=c(n);function n(e){var i;return a(this,n),(i=t.call(this,e))._hasHeadManager=void 0,i.emitChange=function(){i._hasHeadManager&&i.props.headManager.updateHead(i.props.reduceComponentsToState(r(i.props.headManager.mountedInstances),i.props))},i._hasHeadManager=i.props.headManager&&i.props.headManager.mountedInstances,i}return i(n,[{key:"componentDidMount",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.add(this),this.emitChange()}},{key:"componentDidUpdate",value:function(){this.emitChange()}},{key:"componentWillUnmount",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.delete(this),this.emitChange()}},{key:"render",value:function(){return null}}]),n}(l.Component);t.default=d},ZRC5:function(e,t,n){e.exports={"thumbnail-plh":"ScanThumb_thumbnail-plh__11EGn","thumbnail-img-plh":"ScanThumb_thumbnail-img-plh__tkcn2","thumbnail-close-icon":"ScanThumb_thumbnail-close-icon__2lrHq","thumbnail-img":"ScanThumb_thumbnail-img__3VFlc","thumbnail-body-plh":"ScanThumb_thumbnail-body-plh__3KXKY","thumbnail-icon":"ScanThumb_thumbnail-icon__3gDuL","thumbnail-title":"ScanThumb_thumbnail-title__1pURv","thumbnail-link":"ScanThumb_thumbnail-link__3i9ua"}},Zhz7:function(e,t,n){e.exports={background:"ModalBackground_background__1f-zj"}},Zxox:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderData=t.renderValue=t.ValueViewer=t.DataEditor=t.Cell=t.Row=t.Sheet=void 0;var r=l(n("xCP8")),a=l(n("JkKi")),i=l(n("vf12")),o=l(n("z6b+")),s=l(n("j1uu")),u=l(n("E1F2")),c=n("S5K1");function l(e){return e&&e.__esModule?e:{default:e}}t.default=r.default,t.Sheet=a.default,t.Row=i.default,t.Cell=o.default,t.DataEditor=s.default,t.ValueViewer=u.default,t.renderValue=c.renderValue,t.renderData=c.renderData},bVZc:function(e,t,n){"use strict";(function(e){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.__esModule=!0,t.default=void 0;var r="undefined"!==typeof e&&e.env&&!0,a=function(e){return"[object String]"===Object.prototype.toString.call(e)},i=function(){function e(e){var t=void 0===e?{}:e,n=t.name,i=void 0===n?"stylesheet":n,s=t.optimizeForSpeed,u=void 0===s?r:s,c=t.isBrowser,l=void 0===c?"undefined"!==typeof window:c;o(a(i),"`name` must be a string"),this._name=i,this._deletedRulePlaceholder="#"+i+"-deleted-rule____{}",o("boolean"===typeof u,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=u,this._isBrowser=l,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var d=this._isBrowser&&document.querySelector('meta[property="csp-nonce"]');this._nonce=d?d.getAttribute("content"):null}var t,i,s,u=e.prototype;return u.setOptimizeForSpeed=function(e){o("boolean"===typeof e,"`setOptimizeForSpeed` accepts a boolean"),o(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},u.isOptimizeForSpeed=function(){return this._optimizeForSpeed},u.inject=function(){var e=this;if(o(!this._injected,"sheet already injected"),this._injected=!0,this._isBrowser&&this._optimizeForSpeed)return this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),void(this._optimizeForSpeed||(r||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0));this._serverSheet={cssRules:[],insertRule:function(t,n){return"number"===typeof n?e._serverSheet.cssRules[n]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),n},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},u.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},u.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},u.insertRule=function(e,t){if(o(a(e),"`insertRule` accepts only strings"),!this._isBrowser)return"number"!==typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var n=this.getSheet();"number"!==typeof t&&(t=n.cssRules.length);try{n.insertRule(e,t)}catch(s){return r||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var i=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,i))}return this._rulesCount++},u.replaceRule=function(e,t){if(this._optimizeForSpeed||!this._isBrowser){var n=this._isBrowser?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!n.cssRules[e])return e;n.deleteRule(e);try{n.insertRule(t,e)}catch(i){r||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),n.insertRule(this._deletedRulePlaceholder,e)}}else{var a=this._tags[e];o(a,"old rule at index `"+e+"` not found"),a.textContent=t}return e},u.deleteRule=function(e){if(this._isBrowser)if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];o(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}else this._serverSheet.deleteRule(e)},u.flush=function(){this._injected=!1,this._rulesCount=0,this._isBrowser?(this._tags.forEach((function(e){return e&&e.parentNode.removeChild(e)})),this._tags=[]):this._serverSheet.cssRules=[]},u.cssRules=function(){var e=this;return this._isBrowser?this._tags.reduce((function(t,n){return n?t=t.concat(Array.prototype.map.call(e.getSheetForTag(n).cssRules,(function(t){return t.cssText===e._deletedRulePlaceholder?null:t}))):t.push(null),t}),[]):this._serverSheet.cssRules},u.makeStyleTag=function(e,t,n){t&&o(a(t),"makeStyleTag acceps only strings as second parameter");var r=document.createElement("style");this._nonce&&r.setAttribute("nonce",this._nonce),r.type="text/css",r.setAttribute("data-"+e,""),t&&r.appendChild(document.createTextNode(t));var i=document.head||document.getElementsByTagName("head")[0];return n?i.insertBefore(r,n):i.appendChild(r),r},t=e,(i=[{key:"length",get:function(){return this._rulesCount}}])&&n(t.prototype,i),s&&n(t,s),e}();function o(e,t){if(!e)throw new Error("StyleSheet: "+t+".")}t.default=i}).call(this,n("8oxB"))},g4pe:function(e,t,n){e.exports=n("8Kt/")},gtyc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("17x9"),i=(r=a)&&r.__esModule?r:{default:r};var o={readOnly:i.default.bool,key:i.default.string,className:i.default.string,component:i.default.oneOfType([i.default.element,i.default.func]),forceComponent:i.default.bool,disableEvents:i.default.bool,disableUpdatedFlag:i.default.bool,colSpan:i.default.number,rowSpan:i.default.number,width:i.default.oneOfType([i.default.number,i.default.string]),overflow:i.default.oneOf(["wrap","nowrap","clip"]),dataEditor:i.default.func,valueViewer:i.default.func};t.default=o},"h+Fo":function(e,t,n){e.exports={start:"NewScanInit_start__3jSr5"}},j1uu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("q1tI"),i=u(a),o=u(n("17x9")),s=u(n("gtyc"));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=n.handleChange.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this._input.focus()}},{key:"handleChange",value:function(e){this.props.onChange(e.target.value)}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,r=t.onKeyDown;return i.default.createElement("input",{ref:function(t){e._input=t},className:"data-editor",value:n,onChange:this.handleChange,onKeyDown:r})}}]),t}(a.PureComponent);t.default=c,c.propTypes={value:o.default.node.isRequired,row:o.default.number.isRequired,col:o.default.number.isRequired,cell:o.default.shape(s.default),onChange:o.default.func.isRequired,onCommit:o.default.func.isRequired,onRevert:o.default.func.isRequired,onKeyDown:o.default.func.isRequired}},kHgJ:function(e,t){t.urlRgx=/^(ht|f)tp(s?)\:\/\/[0-9a-zA-Z]([-.\w]*[0-9a-zA-Z])*(:(0-9)*)*(\/?)([a-zA-Z0-9\-\.\?\,\'\/\\\+&amp;%\$#_]*)?$/,t.localeRgx=/[a-z][a-z]-[a-z][a-z]($|\/$)/},l0SO:function(e,t,n){e.exports={modal:"NewScanModal_modal__1qttA"}},lSNA:function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},lwAK:function(e,t,n){"use strict";var r;t.__esModule=!0,t.AmpStateContext=void 0;var a=((r=n("q1tI"))&&r.__esModule?r:{default:r}).default.createContext({});t.AmpStateContext=a},mNts:function(e,t,n){e.exports={buildView:"ScanLog_buildView__tyXUG",buildStreamFull:"ScanLog_buildStreamFull__VlJyr",buildStream:"ScanLog_buildStream__3_0JL",buildStreamOutput:"ScanLog_buildStreamOutput__3FJL-",buildStreamLine:"ScanLog_buildStreamLine__1yV4N",buildStreamFooter:"ScanLog_buildStreamFooter__2EP3e",gray:"ScanLog_gray__1tH_j",red:"ScanLog_red__26k7i"}},peZr:function(e,t,n){e.exports={"card-container":"WebCard_card-container__2eWrn","card-image":"WebCard_card-image__2WgNG","card-body":"WebCard_card-body__1z8Ni",loading:"WebCard_loading__TS1wT","loading-animation":"WebCard_loading-animation__bSVT3"}},tZ2U:function(e,t,n){e.exports={title:"CurrentScan_title__2klhu","view-log":"CurrentScan_view-log__2Zw2P"}},vf12:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("q1tI"),i=u(a),o=u(n("17x9")),s=u(n("gtyc"));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var d=function(e){function t(){return c(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){return i.default.createElement("tr",null,this.props.children)}}]),t}(a.PureComponent);d.propTypes={row:o.default.number.isRequired,cells:o.default.arrayOf(o.default.shape(s.default)).isRequired},t.default=d},vlRD:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n("RXBc")}])},xCP8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("q1tI"),o=b(i),s=b(n("17x9")),u=b(n("JkKi")),c=b(n("vf12")),l=b(n("z6b+")),d=b(n("34jG")),f=b(n("j1uu")),h=b(n("E1F2")),p=n("2jIc");function b(e){return e&&e.__esModule?e:{default:e}}var v=function(e){return 0===Object.keys(e).length},m=function(e,t){for(var n=[],r=t-e>0,a=e;r?a<=t:a>=t;r?a++:a--)r?n.push(a):n.unshift(a);return n},y=function(e){return e.split(/\r\n|\n|\r/).map((function(e){return e.split("\t")}))},j=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseDown=n.onMouseDown.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n.onMouseOver=n.onMouseOver.bind(n),n.onDoubleClick=n.onDoubleClick.bind(n),n.onContextMenu=n.onContextMenu.bind(n),n.handleNavigate=n.handleNavigate.bind(n),n.handleKey=n.handleKey.bind(n).bind(n),n.handleCut=n.handleCut.bind(n),n.handleCopy=n.handleCopy.bind(n),n.handlePaste=n.handlePaste.bind(n),n.pageClick=n.pageClick.bind(n),n.onChange=n.onChange.bind(n),n.onRevert=n.onRevert.bind(n),n.isSelected=n.isSelected.bind(n),n.isEditing=n.isEditing.bind(n),n.isClearing=n.isClearing.bind(n),n.handleComponentKey=n.handleComponentKey.bind(n),n.handleKeyboardCellMovement=n.handleKeyboardCellMovement.bind(n),n.defaultState={start:{},end:{},selecting:!1,forceEdit:!1,editing:{},clear:{}},n.state=n.defaultState,n.removeAllListeners=n.removeAllListeners.bind(n),n.handleIEClipboardEvents=n.handleIEClipboardEvents.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"removeAllListeners",value:function(){document.removeEventListener("mousedown",this.pageClick),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("cut",this.handleCut),document.removeEventListener("copy",this.handleCopy),document.removeEventListener("paste",this.handlePaste),document.removeEventListener("keydown",this.handleIEClipboardEvents)}},{key:"componentDidMount",value:function(){this.dgDom&&this.dgDom.addEventListener("keydown",this.handleComponentKey)}},{key:"componentWillUnmount",value:function(){this.dgDom&&this.dgDom.removeEventListener("keydown",this.handleComponentKey),this.removeAllListeners()}},{key:"isSelectionControlled",value:function(){return"selected"in this.props}},{key:"getState",value:function(){var e=this.state;if(this.isSelectionControlled()){var t=this.props.selected||{},n=t.start,a=t.end;n=n||this.defaultState.start,a=a||this.defaultState.end,e=r({},e,{start:n,end:a})}return e}},{key:"_setState",value:function(e){if(this.isSelectionControlled()&&("start"in e||"end"in e)){var t=e.start,n=e.end,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["start","end"]),a=this.props,i=a.selected,o=a.onSelect;i=i||{},t||(t="start"in i?i.start:this.defaultState.start),n||(n="end"in i?i.end:this.defaultState.end),o&&o({start:t,end:n}),this.setState(r)}else this.setState(e)}},{key:"pageClick",value:function(e){this.props.disablePageClick||(this.dgDom.contains(e.target)||(this.setState(this.defaultState),this.removeAllListeners()))}},{key:"handleCut",value:function(e){if(v(this.state.editing)){e.preventDefault(),this.handleCopy(e);var t=this.getState(),n=t.start,r=t.end;this.clearSelectedCells(n,r)}}},{key:"handleIEClipboardEvents",value:function(e){e.ctrlKey&&(67===e.keyCode?this.handleCopy(e):88===e.keyCode?this.handleCut(e):86!==e.keyCode&&86!==e.which||this.handlePaste(e))}},{key:"handleCopy",value:function(e){if(v(this.state.editing)){e.preventDefault();var t=this.props,n=t.dataRenderer,r=t.valueRenderer,a=t.data,i=this.getState(),o=i.start,s=i.end;if(this.props.handleCopy)this.props.handleCopy({event:e,dataRenderer:n,valueRenderer:r,data:a,start:o,end:s,range:m});else{var u=m(o.i,s.i).map((function(e){return m(o.j,s.j).map((function(t){var i=a[e][t],o=n?n(i,e,t):null;return""===o||null===o||"undefined"===typeof o?r(i,e,t):o})).join("\t")})).join("\n");window.clipboardData&&window.clipboardData.setData?window.clipboardData.setData("Text",u):e.clipboardData.setData("text/plain",u)}}}},{key:"handlePaste",value:function(e){if(v(this.state.editing)){var t=this.getState(),n=t.start,r=t.end;n={i:Math.min(n.i,r.i),j:Math.min(n.j,r.j)},r={i:Math.max(n.i,r.i),j:Math.max(n.j,r.j)};var a=this.props.parsePaste||y,i=[],o=[];window.clipboardData&&window.clipboardData.getData?o=a(window.clipboardData.getData("Text")):e.clipboardData&&e.clipboardData.getData&&(o=a(e.clipboardData.getData("text/plain")));var s=this.props,u=s.data,c=s.onCellsChanged,l=s.onPaste,d=s.onChange;if(c){var f=[];o.forEach((function(e,t){e.forEach((function(e,a){r={i:n.i+t,j:n.j+a};var o=u[r.i]&&u[r.i][r.j];o?o.readOnly||i.push({cell:o,row:r.i,col:r.j,value:e}):f.push({row:r.i,col:r.j,value:e})}))})),f.length?c(i,f):c(i)}else l?(o.forEach((function(e,t){var a=[];e.forEach((function(e,i){r={i:n.i+t,j:n.j+i};var o=u[r.i]&&u[r.i][r.j];a.push({cell:o,data:e})})),i.push(a)})),l(i)):d&&o.forEach((function(e,t){e.forEach((function(e,a){r={i:n.i+t,j:n.j+a};var i=u[r.i]&&u[r.i][r.j];i&&!i.readOnly&&d(i,r.i,r.j,e)}))}));this._setState({end:r})}}},{key:"handleKeyboardCellMovement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getState(),r=n.start,a=n.editing,i=this.props.data,o=a&&!v(a),s=i[r.i]&&i[r.i][r.j];if(o&&!t)return!1;var u=s&&s.component,c=e.which||e.keyCode;u&&o?e.preventDefault():c===p.TAB_KEY?this.handleNavigate(e,{i:0,j:e.shiftKey?-1:1},!0):c===p.RIGHT_KEY?this.handleNavigate(e,{i:0,j:1}):c===p.LEFT_KEY?this.handleNavigate(e,{i:0,j:-1}):c===p.UP_KEY?this.handleNavigate(e,{i:-1,j:0}):c===p.DOWN_KEY?this.handleNavigate(e,{i:1,j:0}):t&&c===p.ENTER_KEY&&this.handleNavigate(e,{i:e.shiftKey?-1:1,j:0})}},{key:"handleKey",value:function(e){if(!e.isPropagationStopped||!e.isPropagationStopped()){var t=e.which||e.keyCode,n=this.getState(),r=n.start,a=n.end,i=n.editing,o=i&&!v(i),s=!r||v(r),u=e.ctrlKey||e.metaKey,c=t===p.DELETE_KEY||t===p.BACKSPACE_KEY,l=t===p.ENTER_KEY,d=t>=48&&t<=57,f=t>=65&&t<=90,h=t>=160&&t<=255,b=t>=96&&t<=105,m=!s&&this.props.data[r.i][r.j],y=[187,189,190,107,109,110].indexOf(t)>-1;if(s||u)return!0;o||(this.handleKeyboardCellMovement(e),c?(e.preventDefault(),this.clearSelectedCells(r,a)):m&&!m.readOnly&&(l?(this._setState({editing:r,clear:{},forceEdit:!0}),e.preventDefault()):(d||b||f||h||y)&&this._setState({editing:r,clear:r,forceEdit:!1})))}}},{key:"getSelectedCells",value:function(e,t,n){var r=[];return m(t.i,n.i).map((function(a){m(t.j,n.j).map((function(t){e[a]&&e[a][t]&&r.push({cell:e[a][t],row:a,col:t})}))})),r}},{key:"clearSelectedCells",value:function(e,t){var n=this,a=this.props,i=a.data,o=a.onCellsChanged,s=a.onChange,u=this.getSelectedCells(i,e,t).filter((function(e){return!e.cell.readOnly})).map((function(e){return r({},e,{value:""})}));o?(o(u),this.onRevert()):s&&setTimeout((function(){u.forEach((function(e){var t=e.cell,n=e.row,r=e.col,a=e.value;s(t,n,r,a)})),n.onRevert()}),0)}},{key:"updateLocationSingleCell",value:function(e){this._setState({start:e,end:e,editing:{}})}},{key:"updateLocationMultipleCells",value:function(e){var t=this.getState(),n=t.start,r=t.end,a=this.props.data,i={i:n.i,j:n.j},o={i:r.i+e.i,j:Math.min(a[0].length-1,Math.max(0,r.j+e.j))};this._setState({start:i,end:o,editing:{}})}},{key:"searchForNextSelectablePos",value:function(e,t,n,r,a){for(var i=function(e){return{i:e.i+r.i,j:e.j+r.j}},o=function(e){var n=e.i,r=e.j;return t[n]&&"undefined"!==typeof t[n][r]},s=i(n);o(s)&&!e(t[s.i][s.j],s.i,s.j);)s=i(s);if(!o(s)){if(!a)return null;s=r.j<0?{i:s.i-1,j:t[0].length-1}:function(e){return{i:e.i+1,j:0}}(s)}return o(s)&&!e(t[s.i][s.j],s.i,s.j)?this.searchForNextSelectablePos(e,t,s,r,a):o(s)?s:null}},{key:"handleNavigate",value:function(e,t,n){if(t&&(t.i||t.j)){var r=this.props.data,a=this.getState().start,i=e.shiftKey&&!n,o=this.props.isCellNavigable?this.props.isCellNavigable:function(){return!0};if(i)this.updateLocationMultipleCells(t);else{var s=this.searchForNextSelectablePos(o,r,a,t,n);s&&this.updateLocationSingleCell(s)}e.preventDefault()}}},{key:"handleComponentKey",value:function(e){var t=this,n=e.which||e.keyCode;if([p.ENTER_KEY,p.ESCAPE_KEY,p.TAB_KEY].includes(n)){var r=this.state.editing,a=this.props.data;if(!v(r)){var i=a[r.i][r.j],o=e.shiftKey?-1:1;if(i&&i.component&&!i.forceComponent){e.preventDefault();var s=this.onRevert;n===p.ENTER_KEY?s=function(){return t.handleNavigate(e,{i:o,j:0})}:n===p.TAB_KEY&&(s=function(){return t.handleNavigate(e,{i:0,j:o},!0)}),setTimeout((function(){s(),t.dgDom&&t.dgDom.focus()}),1)}}}}},{key:"onContextMenu",value:function(e,t,n){var r=this.props.data[t][n];this.props.onContextMenu&&this.props.onContextMenu(e,r,t,n)}},{key:"onDoubleClick",value:function(e,t){this.props.data[e][t].readOnly||this._setState({editing:{i:e,j:t},forceEdit:!0,clear:{}})}},{key:"onMouseDown",value:function(e,t,n){var r=!v(this.state.editing)&&this.state.editing.i===e&&this.state.editing.j===t,a=v(this.state.editing)||this.state.editing.i!==e||this.state.editing.j!==t?{}:this.state.editing;this._setState({selecting:!r,start:n.shiftKey?this.state.start:{i:e,j:t},end:{i:e,j:t},editing:a,forceEdit:!!r});var i=window.navigator.userAgent;/MSIE|Trident/.test(i)&&document.addEventListener("keydown",this.handleIEClipboardEvents),document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousedown",this.pageClick),document.addEventListener("cut",this.handleCut),document.addEventListener("copy",this.handleCopy),document.addEventListener("paste",this.handlePaste)}},{key:"onMouseOver",value:function(e,t){this.state.selecting&&v(this.state.editing)&&this._setState({end:{i:e,j:t}})}},{key:"onMouseUp",value:function(){this._setState({selecting:!1}),document.removeEventListener("mouseup",this.onMouseUp)}},{key:"onChange",value:function(e,t,n){var r=this.props,a=r.onChange,i=r.onCellsChanged,o=r.data;i?i([{cell:o[e][t],row:e,col:t,value:n}]):a&&a(o[e][t],e,t,n),this.onRevert()}},{key:"onRevert",value:function(){this._setState({editing:{}}),this.dgDom&&this.dgDom.focus()}},{key:"componentDidUpdate",value:function(e,t){var n=this.state,r=n.start,a=n.end,i=t.end;v(a)||a.i===i.i&&a.j===i.j||this.isSelectionControlled()||this.props.onSelect&&this.props.onSelect({start:r,end:a})}},{key:"isSelected",value:function(e,t){var n=this.getState(),r=n.start,a=n.end,i=t>=r.j&&t<=a.j,o=t<=r.j&&t>=a.j,s=e>=r.i&&e<=a.i,u=e<=r.i&&e>=a.i;return i&&s||o&&s||o&&u||i&&u}},{key:"isEditing",value:function(e,t){return this.state.editing.i===e&&this.state.editing.j===t}},{key:"isClearing",value:function(e,t){return this.state.clear.i===e&&this.state.clear.j===t}},{key:"render",value:function(){var e=this,t=this.props,n=t.sheetRenderer,a=t.rowRenderer,i=t.cellRenderer,s=t.dataRenderer,u=t.valueRenderer,c=t.dataEditor,l=t.valueViewer,f=t.attributesRenderer,h=t.className,p=t.overflow,b=t.data,v=t.keyFn,m=this.state.forceEdit;return o.default.createElement("span",{ref:function(t){e.dgDom=t},tabIndex:"0",className:"data-grid-container",onKeyDown:this.handleKey},o.default.createElement(n,{data:b,className:["data-grid",h,p].filter((function(e){return e})).join(" ")},b.map((function(t,n){return o.default.createElement(a,{key:v?v(n):n,row:n,cells:t},t.map((function(t,a){var h=e.isEditing(n,a);return o.default.createElement(d.default,r({key:t.key?t.key:n+"-"+a,row:n,col:a,cell:t,forceEdit:!1,onMouseDown:e.onMouseDown,onMouseOver:e.onMouseOver,onDoubleClick:e.onDoubleClick,onContextMenu:e.onContextMenu,onChange:e.onChange,onRevert:e.onRevert,onNavigate:e.handleKeyboardCellMovement,onKey:e.handleKey,selected:e.isSelected(n,a),editing:h,clearing:e.isClearing(n,a),attributesRenderer:f,cellRenderer:i,valueRenderer:u,dataRenderer:s,valueViewer:l,dataEditor:c},h?{forceEdit:m}:{}))})))}))))}}]),t}(i.PureComponent);t.default=j,j.propTypes={data:s.default.array.isRequired,className:s.default.string,disablePageClick:s.default.bool,overflow:s.default.oneOf(["wrap","nowrap","clip"]),onChange:s.default.func,onCellsChanged:s.default.func,onContextMenu:s.default.func,onSelect:s.default.func,isCellNavigable:s.default.func,selected:s.default.shape({start:s.default.shape({i:s.default.number,j:s.default.number}),end:s.default.shape({i:s.default.number,j:s.default.number})}),valueRenderer:s.default.func.isRequired,dataRenderer:s.default.func,sheetRenderer:s.default.func.isRequired,rowRenderer:s.default.func.isRequired,cellRenderer:s.default.func.isRequired,valueViewer:s.default.func,dataEditor:s.default.func,parsePaste:s.default.func,attributesRenderer:s.default.func,keyFn:s.default.func,handleCopy:s.default.func},j.defaultProps={sheetRenderer:u.default,rowRenderer:c.default,cellRenderer:l.default,valueViewer:h.default,dataEditor:f.default}},"z6b+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("q1tI"),o=c(i),s=c(n("17x9")),u=c(n("gtyc"));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f=function(e){function t(){return l(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.cell,n=e.row,a=e.col,i=e.attributesRenderer,s=e.className,u=e.style,c=e.onMouseDown,l=e.onMouseOver,d=e.onDoubleClick,f=e.onContextMenu,h=t.colSpan,p=t.rowSpan,b=i?i(t,n,a):{};return o.default.createElement("td",r({className:s,onMouseDown:c,onMouseOver:l,onDoubleClick:d,onTouchEnd:d,onContextMenu:f,colSpan:h,rowSpan:p,style:u},b),this.props.children)}}]),t}(i.PureComponent);t.default=f,f.propTypes={row:s.default.number.isRequired,col:s.default.number.isRequired,cell:s.default.shape(u.default).isRequired,selected:s.default.bool,editing:s.default.bool,updated:s.default.bool,attributesRenderer:s.default.func,onMouseDown:s.default.func.isRequired,onMouseOver:s.default.func.isRequired,onDoubleClick:s.default.func.isRequired,onContextMenu:s.default.func.isRequired,className:s.default.string,style:s.default.object},f.defaultProps={selected:!1,editing:!1,updated:!1,attributesRenderer:function(){}}},zgqH:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var r=n("o0o1"),a=n.n(r),i=n("HaE+"),o=function(e){var t=e.method,n=e.endpoint,r=e.format;return function(){var e=Object(i.a)(a.a.mark((function e(i){var o,s,u,c,l,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=i.email,s=i.query,u=i.body,e.prev=1,n=n.split("?")[0],n=s?n+"?"+s:n,c={method:t,credentials:"same-origin",headers:{}},o&&(c.headers.Authorization="Basic "+btoa(o)),u&&(c.body=JSON.stringify(u)),e.next=9,fetch(n,c).then((function(e){return l=e.status,e[r]()}));case 9:if(d=e.sent,200!==l&&201!==l){e.next=14;break}return e.abrupt("return",d);case 14:return e.abrupt("return",!1);case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(1),console.warn("driver err",e.t0),e.abrupt("return",!1);case 21:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}()},s=o({method:"POST",endpoint:"/api/auth",format:"text"}),u=(o({method:"GET",endpoint:"/api/scan",format:"json"}),o({method:"GET",endpoint:"/api/slug",format:"json"}))}},[["vlRD",0,2,1,4]]]);