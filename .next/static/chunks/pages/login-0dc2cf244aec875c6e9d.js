_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[7],{"20a2":function(t,e,n){t.exports=n("nOHt")},SGa5:function(t,e,n){"use strict";n.r(e);var r=n("o0o1"),a=n.n(r);function i(t,e,n,r,a,i,u){try{var o=t[i](u),c=o.value}catch(s){return void n(s)}o.done?e(c):Promise.resolve(c).then(r,a)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var u=t.apply(e,n);function o(t){i(u,r,a,o,c,"next",t)}function c(t){i(u,r,a,o,c,"throw",t)}o(void 0)}))}}var o=n("nKUr"),c=n("20a2"),s=n.n(c),d=n("q1tI"),p=function(t){var e=t.method,n=t.endpoint,r=t.format;return function(){var t=u(a.a.mark((function t(i){var u,o,c,s,d,p;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=i.email,o=i.query,c=i.body,t.prev=1,n=n.split("?")[0],n=o?n+"?"+o:n,s={method:e,credentials:"same-origin",headers:{}},u&&(s.headers.Authorization="Basic "+btoa(u)),c&&(s.body=JSON.stringify(c)),t.next=9,fetch(n,s).then((function(t){return d=t.status,t[r]()}));case 9:if(p=t.sent,200!==d&&201!==d){t.next=14;break}return t.abrupt("return",p);case 14:return t.abrupt("return",!1);case 15:t.next=21;break;case 17:return t.prev=17,t.t0=t.catch(1),console.warn("driver err",t.t0),t.abrupt("return",!1);case 21:case"end":return t.stop()}}),t,null,[[1,17]])})));return function(e){return t.apply(this,arguments)}}()},f=p({method:"POST",endpoint:"/api/auth",format:"text"});p({method:"GET",endpoint:"/api/scan",format:"json"}),p({method:"GET",endpoint:"/api/slug",format:"json"}),e.default=function(){var t=Object(d.useState)(""),e=t[0],n=t[1],r=Object(d.useState)(""),i=r[0],c=r[1],p=function(){var t=u(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),c(""),t.next=4,f({email:e});case 4:t.sent?s.a.replace("/"):c("Invalid credentials");case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(o.jsx)("form",{onSubmit:p,children:Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{children:Object(o.jsx)("div",{children:"@"})}),Object(o.jsx)("input",{required:!0,name:"email",type:"email",placeholder:"Email",onInput:function(t){return n(t.target.value)}}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{type:"submit",children:"Enter"})}),Object(o.jsx)("div",{children:i})]})})}},u6Hu:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n("SGa5")}])}},[["u6Hu",0,1,2]]]);