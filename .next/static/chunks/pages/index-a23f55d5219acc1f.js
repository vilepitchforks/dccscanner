(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(6199)}])},9359:function(e,n,t){"use strict";var r=t(5893),a=t(1664),c=t.n(a),s=t(6105),i=t.n(s);n.Z=function(e){var n=e.user;return n=n[0].toUpperCase(),(0,r.jsxs)("nav",{className:i().navbar,children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(c(),{href:"/",children:(0,r.jsx)("img",{className:i().logo+" cursor-pointer",src:"/logo192.png"})}),(0,r.jsx)(c(),{href:"/rnr",children:(0,r.jsx)("a",{className:"text-white",children:"R&R"})})]}),(0,r.jsx)("div",{className:i().avatar,children:n})]})}},5399:function(e,n,t){"use strict";t.d(n,{E:function(){return i},Z:function(){return o}});var r=t(7568),a=t(4051),c=t.n(a),s=function(e){var n=e.method,t=e.endpoint,a=e.format;return function(){var e=(0,r.Z)(c().mark((function e(r){var s,i,o,u,l,d;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.email,i=r.query,o=r.body,e.prev=1,t=t.split("?")[0],t=i?t+"?"+i:t,u={method:n,credentials:"same-origin",headers:{}},s&&(u.headers.Authorization="Basic "+btoa(s)),o&&(u.headers["Content-Type"]="application/json",u.body=JSON.stringify(o)),e.next=10,fetch(t,u).then((function(e){return l=e.status,e[a]()}));case 10:if(d=e.sent,200!==l&&201!==l){e.next=15;break}return e.abrupt("return",d);case 15:return e.abrupt("return",!1);case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(1),console.warn("driver err",e.t0),e.abrupt("return",!1);case 22:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(n){return e.apply(this,arguments)}}()},i=s({method:"POST",endpoint:"/api/auth",format:"text"}),o=s({method:"GET",endpoint:"/api/slug",format:"json"})},5329:function(e,n){n.N=function(e){var n=function(e){return e>9?e:"0"+e},t=n(new Date(e).getMonth()+1),r=n(new Date(e).getDate()),a=n(new Date(e).getHours()),c=n(new Date(e).getMinutes()),s=n(new Date(e).getSeconds());return"".concat(r,"-").concat(t," ").concat(a,"-").concat(c,"-").concat(s)}},1878:function(e,n){n.M7=/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[\-;:&=\+\$,\w]+@)?[A-Za-z0-9\.\-]+|(?:www\.|[\-;:&=\+\$,\w]+@)[A-Za-z0-9\.\-]+)((?:\/[\+~%\/\.\w\-_]*)?\??(?:[\-\+=&;%@\.\w_]*)#?(?:[\.\!\/\\\w]*))?)/,n.Sx=/[a-z][a-z]-[a-z][a-z]($|\/$)/,n.TB=/(?:[:\w]+@)/},4902:function(e,n,t){var r=t(1878).TB;n.X=function(e){var n=r.test(e)&&e.match(r)[0].replace("@","");return n?e.replace(n+"@",""):e}},6199:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSP:function(){return Se},default:function(){return Ne}});var r=t(5893),a=t(9008),c=t.n(a),s=t(9359),i=t(7294),o=t(6978),u=t(7568),l=t(4051),d=t.n(l),f=t(5152),m=t.n(f),A=t(7347),h=t.n(A),x=function(){var e=(0,i.useRef)(),n=(0,o.Kw)((function(e){return e})),t=n.scanUrl,a=n.infoEvents,c=n.errorEvents,s=n.scanInProgress;(0,i.useEffect)((function(){var n=e.current.lastElementChild;n&&n.scrollIntoViewIfNeeded&&n.scrollIntoViewIfNeeded(!0)}),[a]);return(0,r.jsx)("div",{className:h().buildView,children:(0,r.jsxs)("div",{className:"".concat(h().buildStreamFull," ").concat(h().buildStream),children:[(0,r.jsx)("div",{ref:e,className:h().buildStreamOutput,children:a.map((function(e,n){return(0,r.jsx)("pre",{className:h().buildStreamLine,children:e},n)}))}),(0,r.jsxs)("footer",{className:h().buildStreamFooter,children:[(0,r.jsxs)("span",{className:h().gray,children:[s?"Scan in progress...":!s&&t.length&&a.length?"Scan completed.":""," "]}),c.length?c.map((function(e,n){return(0,r.jsx)("span",{className:h().red,children:e},n)})):""]})]})})},p=function(){var e=(0,i.useState)(!1),n=e[0],t=e[1],a=(0,o.Kw)((function(e){return e})),c=a.scanUrl,s=a.metadata,l=a.dataEvents,f=a.db,A=a.scanInProgress,h=(0,o.WX)((function(e){return e}));(0,i.useEffect)((function(){c&&!A&&h.addInfoEvent("Scan data for ".concat(c," successfully processed.")),c&&!A&&!l.length&&h.addInfoEvent("No bvDCC data found for ".concat(c,"."))}),[A,l]),(0,i.useEffect)((function(){(0,u.Z)(d().mark((function e(){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l[l.length-1],e.t0=n,!e.t0){e.next=5;break}return e.next=5,f.collection("dccdata").insert(n,(function(){h.addInfoEvent("Scan data for item ".concat(n.scannedUrl," successfully stored."))}));case 5:case"end":return e.stop()}}),e)})))()}),[l]);var p=s.icon,g=s.title;return(0,r.jsx)("div",{className:"row",children:(0,r.jsxs)("div",{className:"column",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("img",{className:"u-pull-left icon",src:p||"./logo192.png",alt:"icon"}),(0,r.jsx)("h5",{className:m().title,children:c&&g.length?g:"Click on the + icon in the lower right corner of the screen to start a new scan."})]}),(0,r.jsxs)("span",{className:m()["view-log"],onClick:function(){return t(!n)},children:[n?"Hide":"View"," scan log"]}),n&&(0,r.jsx)(x,{})]})})},g=t(1735),b=t.n(g),w=t(690),v=t.n(w),j=t(9534),C=t(4105),S=t(5329),N=t(1878),k=function(){var e=(0,u.Z)(d().mark((function e(n,t){var r,a,c,s,i,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=B(t,"xlsx"),e.prev=1,e.next=4,n.col("dccdata").findAsArray({url:t},{_id:0,url:0});case 4:a=(a=e.sent).map((function(e){return Array.isArray(e.categoryPath)&&(e.categoryPath=e.categoryPath.reduce((function(e,n){if(n.Name)return n.Name}),"")),e})),c=new Set(a.map((function(e){return e.timestamp}))),s=Array.from(c).reverse(),i=s.map((function(e){return a.filter((function(n){return n.timestamp===e}))})),o=C.P6.book_new(),i.forEach((function(e,n){e.forEach((function(e){return delete e.timestamp}));var t=(0,S.N)(s[n]),r=C.P6.json_to_sheet(e);C.P6.book_append_sheet(o,r,t)})),C.NC(o,r),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.warn("An error occurred while creating the report!",e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(n,t){return e.apply(this,arguments)}}(),y=function(){var e=(0,u.Z)(d().mark((function e(n,t){var r,a,c,s,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.map((function(e){e.timestamp;return(0,j.Z)(e,["timestamp"])})),t=r,a=B(n,"xlsx");try{c=C.P6.book_new(),s=(0,S.N)((new Date).getTime()),i=C.P6.json_to_sheet(t),C.P6.book_append_sheet(c,i,s),C.NC(c,a)}catch(o){console.warn("An error occurred while creating the report!",o)}case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),B=function(e,n){var t=e.replace(/http(|s)\:\/\//,"").split(N.Sx)[0];return"/"===t.slice(-1)&&(t=t.slice(0,t.length-1)),"bvDCC_extract_".concat(t,"_").concat((new Date).getTime(),".").concat(n)},E="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAFIUlEQVR4Xu2bS0hWQRTH51pBQiFFhAS5CVfpoo1EkBRILpIwgqiMyoVBq+hpkbQIIexhtQoysCItgkjCFqZUKIi0KdJWEkGLsOhBVLSwvHnED67XmTMz38x9fHfOt8wzM3f+v5nznzn35jH6JaqAl+joNDgjAAkvAgJAABJWIOHhaQcUOoAlR9f7Cc9Ba/jph2373T5ySqtRhMHGO6DQAICWaYLgJIA0QXAGwOHNO9i15w/nJJM07ARnALw+c5V1Dg+lDoJTAGD5pw2CcwDSBsFJAGmC4CyAtEBwGkAaIDgPIGkIBGD2ZpDU6YgABK5mSUAgAKFCW9wQCACn0hknBAIgKDXHBYEAILX+OCAQAMnLlqghEACFt11RQiAACgCivKwRAEUAIgi/2keMNDRqDA9VKO+E4YWMjV84HREAG6oa9EEADMSz0ZQA2FDRoA8CYCCejaYEwIaKBn0QAAPxbDTNDIDSkuVs/OwToSYtvZfmfdODCbitchPrOnCeGzL6cZxtuLzPhv4sMwBAjQv1R9ihjTu5wnz/85NVXdzFJn58UxJu+NgdVrmqnBtb3baXvfr8TqkfWVCmAMBkP7Q+ZcuKl3LnfX3oATvZc0WmCYPPEFvrjhv1IR1kNiBzALDUoboLRBBV26uKD3GZAwCTwtKHbBdgq7/h1mn2ePSFjr7S2EwCWLdyDRtsvqvtBWDkL0/c56aw3rFBtruzWSqobkAmAcgMWbQLRCYeRerJgcosAGw1w+TLz22dcyLCdo3uEVZnF2QWAIigc5q519jG6iqq52ln88zPA5NpADJDzu0CbPVHYbxBEJkHgB1Lc8YqOjVFZbxOAYDJitIL/A3yO+/SFaXxOgdAVifi5eYojdc5ALJjaRhA1MbrJACYNFYnCopis9gmO5Jm3oSDAmCGnIuTlSpkgur+3SkA2L2AAOguHc142c2YUpCmoLrh2FGUTFhXTc14Ue6Hsz78eC9w6BiqKbIoHEs9IPL7L1+F737DBTtLjzSnm8ybsCj1wOova9kyIwaVIqJYWtN9YsfOYIrB4qgYZwBHtLJ5N11RbNQ1ocymIOwTFd6qxkrS+VzOqipLlJbOs8Y+o0/8jRrDE0bx/wMwMbE6D3ZU1U1FTgPAvorAhMwXHG+pOwsAKzeovGDBUpfO3cBJALJyg0qV00YfsCPCABb0r1byhFxQf/dNpfSuFISNbNMDsByusvpzz4ntAtV+nAMgKzXr3Gplu0DFkJ0CIBMsn2Mk5iUqdwOnAGgl15iCCUBMQouGIQAEQE0Bm6cgtRHjiaIdEI/OwlEIAAFQU6DQUpBqiSE8eyduwmrIzaIIgJl+xq0JgLGEZh0QADP9jFuHAUx+WsEWvyk27jefDnzm9aSqGprPJHTb8HaArsHqjsmLB/EHuju2OwcAxEgaguexCW+hV9N3u+OtkwCg+lpW9m/ewoxrJxQt8ipAfHgAJwHAxHkQ4vCDIs872NfV0ZGj7ywAUSqKEkIu7we3ntMA4vQDnvhOp6DgKozalIOmGzYe53eAyA/g322ZctB0CYDgEB+VKYdNlwAgtyheKjIxZVHeJxPWhJBPKlIRn0xYAMLUlDHTpRSkUMgxvSljpmsdgMJ8MhNS29DUNOX7N7AJyUyXABguh5o9TY885tfzulHN+1ZN2HA+BdmcByEf8a2YcEEqaPjQtfub1vp//QHfZ6UzIgbKy7pdG9+EdQfMSjxAmJr0x2A+OqZLHmBxBYApQ3fB8rJu9/8B9g+8QHotYFcAAAAASUVORK5CYII=",_=function(e){var n=e.scannedUrl,t=(0,o.Kw)((function(e){return e})).db;return(0,r.jsx)("img",{className:v()["download-icon"]+" u-pull-right",src:E,alt:n,title:"Download as .xlsx",onClick:(0,u.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))})},D=function(e){var n=e.selectedWeb,t=e.reportData;return(0,r.jsx)("img",{className:v()["download-icon"],src:E,title:"Download current sheet as .xlsx",onClick:function(){return y(n,t)}})},U=function(e){var n=e.selectedWeb,t=e.reportData,a=(0,i.useState)(""),c=a[0],s=a[1],o=(0,i.useState)(""),u=o[0],l=o[1];return(0,i.useEffect)((function(){var e=function(e,n){var t;t=n.map((function(e){return e.timestamp,(0,j.Z)(e,["timestamp"])})),n=t;var r=B(e,"csv");try{var a=C.P6.json_to_sheet(n),c=C.P6.sheet_to_csv(a);window.URL=window.URL||window.webkiURL;var s=new Blob([c]);return{reportTitle:r,blobURL:window.URL.createObjectURL(s)}}catch(i){console.warn("An error occurred while creating the report!",i)}}(n,t),r=e.reportTitle,a=e.blobURL;return s(r),l(a),function(){return window.URL.revokeObjectURL(a)}}),[t]),(0,r.jsx)("a",{title:"Download current sheet as .csv",href:u,download:c,children:(0,r.jsx)("img",{className:v()["download-icon"],src:"data:image/png;base64,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"})})},I=function(e){var n=e.selectedWeb,t=e.reportData,a=(0,i.useState)(""),c=a[0],s=a[1],o=(0,i.useState)(""),u=o[0],l=o[1];return(0,i.useEffect)((function(){var e=function(e,n){var t;t=n.map((function(e){return e.timestamp,(0,j.Z)(e,["timestamp"])})),n=t;var r=B(e,"json");try{window.URL=window.URL||window.webkiURL;var a=new Blob([JSON.stringify(n,null,2)]);return{reportTitle:r,blobURL:window.URL.createObjectURL(a)}}catch(c){console.warn("An error occurred while creating the report!",c)}}(n,t),r=e.reportTitle,a=e.blobURL;return s(r),l(a),function(){return window.URL.revokeObjectURL(a)}}),[t]),(0,r.jsx)("a",{title:"Download current sheet as .json",href:u,download:c,children:(0,r.jsx)("img",{className:v()["download-icon"],src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAFQUlEQVR4Xu2cv2sUQRTH55JGIYhCAiagSIoEFRWtFGOXaGWRQhCDjRgL/wCx0EIUQf+AFCbYxATBIoKVJo0kop0YQdEiWF2EBJSQwiY58+AmzL17Mzt7b+529+Zto97tm9n5fub9mLeJJSVXpgqUMp1dJlcCIONNIAAEQMYKZDy9eEDRAXz+MVbJeA2ppq+o0pMzgy/upjJq4s1sDygaANAyTxCiBJAnCNEA6Nl/Sa39fVsTTPLgCdEAGDj8WP3ZeJ87CFEBgO2fNwjRAcgbhCgB5AlCtADyAiFqAHmAED2ArCEIgOrJIKvqSAAYR7MsIAgA1GhrNQQBQHQ6WwlBAFhaza2CIAAcvf5WQBAACS9bmg1BAHi87WomBAHgAaCZhzUB4AnABuH04AxLQ5YxPFRR3gnDC5kQFw5HAiCEqowxBABDvBCmAiCEiowxBABDvBCmAiCEiowxBABDvBCmAiCEiowxBABDvBCmAiCEiowxBABDvBCmhQEwObFcs97x2yfr1r++9k99XCqr36ubu98d7O1SR/r3qROnuq16uex6+7pUd8+eOts3cys185w930fOkfTcbQMAC4IVAxDnhvrqxPz6ZV19+lB2bmZKXDwfjH95tL9unCgA+IgIymCRfO3AFkOggFOgogCAF6nDzq+VjZowgYXEdiAghBy4cCiDz8ywRwGgvKDtAVC72BQKf69Fwp/7hBnzHlvIG70yUBPmogPguwuxgFRSt8EDb7ABwPO3PQCoYOZe/aypenAyhHvMC6oaU0BbAnWN7Ur6phe0PQAQlsoBVMVjQjBtbACosbWnUFWQLn/NUBUFAFs1o5MqVcebwthqeOwBZiKmzgFmOatBRQHAFZOp8hPvbN8Q5AIAYcesnDTUaACAOOAJVOmpIZhhKbQHAAC4dD7SUKMCoGO8CwQVGkJ5AE7u4AX4lI2rrbZpRdT1AKoegQWgQkNIAGY+gnHNvhQ+zMG/Cw8AFmxeuOlmq+V9qiDXIQ8nYVfpaT5fbj0g6WRqi6VJMdZWy/scxFwNNxcAV4+pMADMsJDmQIRLykZbEVQJ6mpFJLUgtBfkFoBtwdAcw40xUwhqt+n6f7W8WZcEXYck3cQDsagWtasZhwHYvCC3AJJqeb2DqISZpq1sCpXGLqkdjQFQG6oQSTjpxQpeqAaTZAf3USdeHwg+nVLquahnyrUHuOp4W7vArDCoV4taeNurRfge7CBcmYc4HY58X0lSAFytDP3chSlDqTq/HT4TABlTFAACoFj/bWVoXuIBoRW1jHfnwd5UM83PTnn9+pfXTa6Zi/I7YqnUI24WAFwFmfYCgCkg11wAcBVk2gsApoBccwHAVZBpLwCYAnLNBQBXQaa9AGAKyDUXAFwFmfYCgCkg11wAcBVk2gsApoBccwHAVdBiD+99F5ePN2l097AlVbov3dAdjdLu7iC0Sur7/MzUMQFQVbOlEHbEV1vbw/Mvn5cFQBUA/ATE04kDQTZ30iCVzo4LC9PPluA+AWCoBT9jNP36UJJ+rO8h7r+bnXykBxEASM5mJmUsvniAZS83JR9Uky6eUjygFRCMpCsAPCN4yKRsJl0B4AkAbguRlKm4bz6ChKAEIJyknCS+JGFPb2goKVuSroQgT9HxbakgOJKuAGgQQJqk7Eq6wQE0uJ5Cml28Nn6voioPXQ/vE/eDJuFCKsl4aBeEtOIHScKMtRTWdGTs5jdVUUdrFuCZdCUEBcA+cvVGn+rsWNiFkCLpCoAAAGCI4eu3hkpb24vw9zRJVwAEAgDDQD6AP832ctrh/wNiXwwt6bNvAgAAAABJRU5ErkJggg=="})})},Q=t(4894),F=t.n(Q),L=function(e){var n=e.thumbnail,t=e.setShowModal,a=e.setsSlectedWeb,c=e.setMetaArray,s=n.url,i=n.image,l=n.icon,f=n.title,m=n.description,A=n.scannedUrl,h=(0,o.Kw)((function(e){return e})),x=h.scanUrl,p=h.db,g=function(){var e=(0,u.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.remove(A);case 2:c((function(e){return e.filter((function(e){return e.scannedUrl!==A}))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,r.jsxs)("div",{className:F()["thumbnail-plh"]+" columns three",children:[(0,r.jsxs)("div",{className:F()["thumbnail-img-plh"],children:[A!==x&&(0,r.jsx)("svg",{className:F()["thumbnail-close-icon"],onClick:function(){return g()},viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"})}),(0,r.jsx)("img",{className:F()["thumbnail-img"],src:i||"./placeholder.gif",alt:m,title:m})]}),(0,r.jsxs)("div",{className:F()["thumbnail-body-plh"],children:[(0,r.jsx)("img",{className:F()["thumbnail-icon"]+" u-pull-left",src:l||"./favicon.ico",alt:"icon"}),(0,r.jsx)("h6",{className:F()["thumbnail-title"],alt:f,title:f,children:f||"Lorem ipsum dolor sit."}),(0,r.jsx)("a",{title:s,className:F()["thumbnail-link"],onClick:function(){t(!0),a(A)},children:"View DCC data"}),(0,r.jsx)(_,{scannedUrl:A})]})]})},O=t(4598),J=t.n(O),R=function(e){var n=e.children,t=e.trigger;return(0,r.jsx)("div",{className:J().background,onClick:function(e){return/background/.test(e.target.className)&&t(!1)},children:n})},Z=t(797),z=function(e){var n=e.length?Object.keys(e[0]).length:15,t=Array.from({length:n},(function(e,n){return{value:" "}})),r=Array.from({length:36},(function(e,n){return t}));if(!e.length)return r;var a=Object.keys(e[0]).map((function(e){return{value:e}})),c=e.map((function(e){return Object.values(e)})),s=c.map((function(e){return e.map((function(e){return{value:Array.isArray(e)?JSON.stringify(e):e}}))}));return[a].concat((0,Z.Z)(s),(0,Z.Z)(r))},H=t(6089),M=t.n(H),T=t(1438),Y=t(2951),V=t(8029),q=t(1799),W=t(9396),K=t(6567),P=t(7403),G=function(e){(0,V.Z)(t,e);var n=(0,K.Z)(t);function t(e){var r;return(0,T.Z)(this,t),(r=n.call(this,e)).state={grid:[]},r}return(0,Y.Z)(t,[{key:"render",value:function(){var e=this;return(0,r.jsx)(P.ZP,{data:this.state.grid,valueRenderer:function(e){return e.value},overflow:"nowrap",onCellsChanged:function(n){var t=e.props.data.map((function(e){return(0,Z.Z)(e)}));n.forEach((function(e){e.cell;var n=e.row,r=e.col,a=e.value;t[n][r]=(0,W.Z)((0,q.Z)({},t[n][r]),{value:a})})),e.setState({grid:t})}})}}],[{key:"getDerivedStateFromProps",value:function(e,n){return{grid:e.data}}}]),t}(i.Component),X=function(e){var n=e.selectedWeb,t=(0,i.useState)(!0),a=t[0],c=t[1],s=(0,i.useState)([]),l=s[0],f=s[1],m=(0,i.useState)(null),A=m[0],h=m[1],x=(0,i.useState)([]),p=x[0],g=x[1],b=(0,i.useState)([]),w=b[0],v=b[1],j=(0,i.useState)([]),C=j[0],N=j[1],k=(0,i.useState)([]),y=k[0],B=k[1],E=(0,i.useState)([]),_=E[0],Q=E[1],F=(0,o.Kw)((function(e){return e})).db;return(0,i.useEffect)((function(){(0,u.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.col("dccdata").findAsArray({url:n},{_id:0,url:0});case 2:(t=e.sent).length?g(t):c(!1);case 4:case"end":return e.stop()}}),e)})))()}),[]),(0,i.useEffect)((function(){var e=new Set(p.map((function(e){return e.timestamp}))),n=Array.from(e);n.length&&f(n.reverse())}),[p]),(0,i.useEffect)((function(){var e=l.length&&l.map((function(e){return p.filter((function(n){return n.timestamp===e}))}));e.length&&v(e)}),[l]),(0,i.useEffect)((function(){var e=w.length?w.map((function(e){return z(e)})):[];e.length&&N(e)}),[w]),(0,i.useEffect)((function(){var e=w.length&&w.findIndex((function(e){return e[0].timestamp===A}));e=-1===e?0:e,C.length&&B(C[e]||[]),C.length&&Q(w[e]||[])}),[w,A,C]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"jsx-d3f9c5d3169746de data-container",children:[(0,r.jsxs)("div",{className:"jsx-d3f9c5d3169746de data-head",children:[(0,r.jsx)("div",{className:"jsx-d3f9c5d3169746de data-head-url",children:n}),(0,r.jsxs)("div",{className:"jsx-d3f9c5d3169746de data-head-element",children:[(0,r.jsx)("span",{className:"jsx-d3f9c5d3169746de",children:!y.length&&a&&"Loading..."}),!a&&(0,r.jsxs)("span",{className:"jsx-d3f9c5d3169746de",children:["DCC data unavailable for ",n]}),y.length&&a?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(D,{selectedWeb:n,reportData:_}),(0,r.jsx)(U,{selectedWeb:n,reportData:_}),(0,r.jsx)(I,{selectedWeb:n,reportData:_})]}):"",(0,r.jsx)("svg",{viewBox:"0 0 24 24",className:"jsx-d3f9c5d3169746de data-close-icon",children:(0,r.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z",className:"jsx-d3f9c5d3169746de"})})]})]}),(0,r.jsxs)("div",{className:"jsx-d3f9c5d3169746de data-body",children:[(0,r.jsx)("div",{className:"jsx-d3f9c5d3169746de data-spreadsheet",children:y.length?(0,r.jsx)(G,{data:y}):(0,r.jsx)(G,{data:z([])})}),(0,r.jsx)("div",{className:"jsx-d3f9c5d3169746de data-dates-placeholder",children:(0,r.jsx)("div",{className:"jsx-d3f9c5d3169746de data-dates",children:l.map((function(e,n){return(0,r.jsx)("div",{onClick:function(){return h(e)},className:"jsx-d3f9c5d3169746de",children:(0,S.N)(e)},n)}))})})]})]}),(0,r.jsx)(M(),{id:"d3f9c5d3169746de",children:".data-container.jsx-d3f9c5d3169746de{background:red;margin:20px;height:-webkit-calc(100vh - 40px);height:-moz-calc(100vh - 40px);height:calc(100vh - 40px);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.data-head.jsx-d3f9c5d3169746de{background:green;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.data-head-url.jsx-d3f9c5d3169746de{background:darkmagenta;width:25rem;-webkit-box-flex:0;-webkit-flex:none;-moz-box-flex:0;-ms-flex:none;flex:none}.data-head-element.jsx-d3f9c5d3169746de{background:darkorange;-webkit-box-flex:1;-webkit-flex:1 1 0%;-moz-box-flex:1;-ms-flex:1 1 0%;flex:1 1 0%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.data-body.jsx-d3f9c5d3169746de{background:blue;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;overflow-y:hidden;height:100%}.data-spreadsheet.jsx-d3f9c5d3169746de{background:coral;overflow-y:auto;-webkit-box-flex:1;-webkit-flex:1 1 0%;-moz-box-flex:1;-ms-flex:1 1 0%;flex:1 1 0%}data-dates-placeholder.jsx-d3f9c5d3169746de{overflow-x:hidden}.data-dates.jsx-d3f9c5d3169746de{background:blueviolet;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;overflow-x:auto}.data-dates.jsx-d3f9c5d3169746de div.jsx-d3f9c5d3169746de{border:1px solid;margin:5px;white-space:nowrap}.data-close-icon.jsx-d3f9c5d3169746de{width:15px}"})]})},$=function(){var e,n=(0,i.useState)([]),t=n[0],a=n[1],c=(0,i.useState)(!1),s=c[0],l=c[1],f=(0,i.useState)(""),m=f[0],A=f[1],h=(0,o.Kw)((function(e){return e})),x=h.scanUrl,p=h.db,g=(e=t,Array.from({length:Math.ceil(e.length/4)},(function(n,t){var r=4*t;return e.slice(r,r+4)})));return(0,i.useEffect)((function(){(0,u.Z)(d().mark((function e(){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object.keys(p).length){e.next=6;break}return e.next=3,p.col("metadata").findAsArray();case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=[];case 7:n=e.t0,a(n);case 9:case"end":return e.stop()}}),e)})))()}),[x,p]),(0,r.jsxs)(r.Fragment,{children:[g.map((function(e,n){return(0,r.jsx)("div",{className:b()["scans-row"]+" row",children:e.map((function(e,n){return(0,r.jsx)(L,{thumbnail:e,setShowModal:l,setsSlectedWeb:A,setMetaArray:a},n)}))},n)})),s&&(0,r.jsx)(R,{trigger:l,children:(0,r.jsx)(X,{selectedWeb:m})})]})},ee=function(){(0,o.Kw)((function(e){return e})).scanUrl;var e=(0,o.WX)((function(e){return e})).initDb;return(0,i.useEffect)((function(){e()}),[]),(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)(p,{}),(0,r.jsx)($,{})]})},ne=t(8177),te=t.n(ne),re=function(e){var n=e.ctg,t=e.deleteCategory;return(0,r.jsxs)("div",{className:te().chip,role:"button",children:[(0,r.jsx)("span",{className:te()["chip-label"],children:n}),(0,r.jsx)("svg",{className:te()["chip-delete"],onClick:function(e){return t(n)},viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"})})]})},ae=function(e){var n=e.loading,t=e.url,a=e.setUrl,c=e.slugs,s=e.handleSlugs,u=(0,i.useState)([]),l=u[0],d=u[1],f=(0,o.WX)((function(e){return e})).setScanCtgs,m=function(e){return d(l.filter((function(n){return n!==e})))};return(0,i.useEffect)((function(){var e=new Set(l);f(Array.from(e).join())}),[l]),(0,r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),s()},children:[(0,r.jsx)("label",{htmlFor:"url",children:"URL"}),(0,r.jsx)("input",{className:"u-full-width",type:"url",placeholder:"https://www.website.com",id:"url",value:t,onInput:function(e){return a(e.target.value)},onBlur:function(){return s()}}),(0,r.jsx)("label",{htmlFor:"slugs",children:"Category"}),(0,r.jsxs)("select",{name:"slugs",id:"slig-list",className:"u-full-width",onInput:function(e){return d((function(n){return(0,Z.Z)(n).concat([e.target.value])}))},children:[(0,r.jsx)("option",{value:"",children:n?"--Fetching slugs...--":"--Select a slug--"}),c.map((function(e,n){return(0,r.jsx)("option",{value:e,children:e},n)}))]}),(0,r.jsx)("div",{className:te()["chip-container"],children:l.map((function(e,n){return(0,r.jsx)(re,{ctg:e,deleteCategory:m},n)}))})]})},ce=t(9777),se=t.n(ce),ie=se()["card-image"]+" three columns",oe=function(){return(0,r.jsx)("div",{className:se().loading+" "+ie,children:"\xa0"})},ue=function(){return(0,r.jsx)("h5",{className:se().loading,children:"\xa0"})},le=function(){return(0,r.jsx)("p",{className:se().loading,children:"\xa0"})},de=function(e){var n=e.loading,t=e.isNew,a=(0,o.Kw)((function(e){return e})).metadata,c=a.description,s=a.icon,i=a.image,u=a.title,l=a.url;return(0,r.jsx)("div",{className:se()["card-container"]+" nine columns",children:(0,r.jsxs)("a",{href:l,target:"_blank",children:[n?(0,r.jsx)(oe,{}):(0,r.jsx)("div",{className:ie,children:(0,r.jsx)("img",{src:i||"./placeholder.gif",alt:u})}),(0,r.jsxs)("div",{className:se()["card-body"]+" nine columns",children:[n?(0,r.jsx)(ue,{}):(0,r.jsxs)("div",{children:[(0,r.jsx)("img",{className:"u-pull-left icon",src:s||"./logo192.png",alt:"icon"}),(0,r.jsx)("h5",{children:t?"New DCC Scan":u})]}),n?(0,r.jsx)(le,{}):(0,r.jsx)("p",{children:t?"Initiate a new scan by entering a website URL and selecting the slugs for scanning.":c})]})]})})},fe=t(7676),me=t.n(fe),Ae=function(e){var n=e.url,t=e.setUrl,a=e.setNewScan,c=(0,o.Kw)((function(e){return e})),s=(c.scanUrl,c.scanCtgs),i=(0,o.WX)((function(e){return e})),u=i.setScanUrl,l=i.startStream;return(0,r.jsx)("button",{className:me().start+" u-full-width",onClick:function(){return function(){l("url=".concat(n,"&categories=").concat(s));var e=N.TB.test(n)&&n.match(N.TB)[0],r=e?n.replace(e,""):n;u(r),t(""),a(!1)}()},children:"Start scan"})},he=t(7939),xe=t.n(he),pe=t(5399),ge=t(4902),be=function(e){var n=e.isNew,t=e.setIsNew,a=e.setNewScan,c=(0,i.useState)(!1),s=c[0],l=c[1],f=(0,i.useState)(""),m=f[0],A=f[1],h=(0,i.useState)([]),x=h[0],p=h[1],g=(0,o.Kw)((function(e){return e})),b=g.scanCtgs,w=g.db,v=(0,o.WX)((function(e){return e})),j=function(){var e=(0,u.Z)(d().mark((function e(){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,w.collection("metadata").findOne({scannedUrl:m});case 3:if(!(n=e.sent)){e.next=10;break}return v.addInfoEvent("Metadata for ".concat(m," successfully fetched.")),l(!1),e.abrupt("return",{ok:!0,meta:n});case 10:return l(!1),e.abrupt("return",{ok:!1,meta:{}});case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=(0,u.Z)(d().mark((function e(){var n,t,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),n={},t=!1,r=!1,e.next=4,(0,pe.Z)({query:"url="+m});case 4:if((a=e.sent)&&a.metadata&&(t=!0),t&&(n=(0,q.Z)({scannedUrl:(0,ge.X)(m),slugs:a.slugs},a.metadata)),!t){e.next=10;break}return e.next=10,w.collection("metadata").insert(n,(function(){v.addInfoEvent("Metadata for ".concat((0,ge.X)(m)," successfully stored.")),r=!0}));case 10:if(!r){e.next=15;break}return l(!1),e.abrupt("return",{ok:!0,meta:n});case 15:return l(!1),e.abrupt("return",{ok:!1,meta:n});case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=(0,u.Z)(d().mark((function e(){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:if(!(n=e.sent).ok){e.next=5;break}return e.abrupt("return",n.meta);case 5:return e.next=7,C();case 7:if(!(n=e.sent).ok){e.next=10;break}return e.abrupt("return",n.meta);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=(0,u.Z)(d().mark((function e(){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N.M7.test(m)){e.next=2;break}return e.abrupt("return");case 2:return t(!1),e.next=5,S();case 5:if(!(n=e.sent)){e.next=11;break}return v.setMetadata(n),e.abrupt("return",p(n.slugs));case 11:t(!0),A("");case 12:return e.abrupt("return");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){return function(){return t(!0)}}),[]),(0,r.jsx)(R,{trigger:a,children:(0,r.jsxs)("div",{className:xe().modal,children:[(0,r.jsxs)("div",{className:"row flex",children:[(0,r.jsx)("div",{className:"three columns",children:(0,r.jsx)(ae,{loading:s,url:m,setUrl:A,slugs:x,handleSlugs:k})}),(0,r.jsx)(de,{loading:s,isNew:n})]}),(0,r.jsx)("div",{className:"row",children:b&&(0,r.jsx)(Ae,{url:m,setUrl:A,setNewScan:a})})]})})},we=t(1119),ve=t.n(we),je=function(e){var n=e.setNewScan,t=(0,o.WX)((function(e){return e})).reSetScanUrl;return(0,r.jsx)("button",{className:ve().newScan,type:"button",onClick:function(){t(),n(!0)},children:(0,r.jsx)("span",{className:ve().label,children:(0,r.jsx)("svg",{className:ve().icon,focusable:"false",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})})})})},Ce=function(){var e=(0,i.useState)(!0),n=e[0],t=e[1],a=(0,i.useState)(!1),c=a[0],s=a[1],u=(0,o.Kw)((function(e){return e})).scanInProgress;return(0,r.jsxs)(r.Fragment,{children:[c&&(0,r.jsx)(be,{isNew:n,setIsNew:t,setNewScan:s}),!u&&(0,r.jsx)(je,{setNewScan:s})]})},Se=!0,Ne=function(e){var n=e.user;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(c(),{children:[(0,r.jsx)("title",{children:"DCC Scanner"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsx)(s.Z,{user:n}),(0,r.jsx)(ee,{}),(0,r.jsx)(Ce,{})]})}},5152:function(e){e.exports={title:"CurrentScan_title__9DHVG","view-log":"CurrentScan_view-log__m8zEo"}},690:function(e){e.exports={"download-icon":"DownloadIcons_download-icon__9Y4aa"}},4598:function(e){e.exports={background:"ModalBackground_background__c_Wtk"}},6105:function(e){e.exports={navbar:"Navbar_navbar__7Exjr",logo:"Navbar_logo__keI4H",avatar:"Navbar_avatar__GT_gS"}},8177:function(e){e.exports={"chip-container":"NewScanForm_chip-container__p3t_G",chip:"NewScanForm_chip__q3h7b","chip-label":"NewScanForm_chip-label__TmqVN","chip-delete":"NewScanForm_chip-delete__E_uIT"}},1119:function(e){e.exports={newScan:"NewScanIcon_newScan__435Bt",label:"NewScanIcon_label__haBKW",icon:"NewScanIcon_icon__TT8lc"}},7676:function(e){e.exports={start:"NewScanInit_start__5J24u"}},7939:function(e){e.exports={modal:"NewScanModal_modal__YiAZ_"}},7347:function(e){e.exports={buildView:"ScanLog_buildView__vRWSp",buildStreamFull:"ScanLog_buildStreamFull__ccjKo",buildStream:"ScanLog_buildStream__7hseZ",buildStreamOutput:"ScanLog_buildStreamOutput__90ok4",buildStreamLine:"ScanLog_buildStreamLine__0d7ZY",buildStreamFooter:"ScanLog_buildStreamFooter__DJOzi",gray:"ScanLog_gray__n0EWB",red:"ScanLog_red__Y0xi5"}},4894:function(e){e.exports={"thumbnail-plh":"ScanThumb_thumbnail-plh__eJbcM","thumbnail-img-plh":"ScanThumb_thumbnail-img-plh__3_W4T","thumbnail-close-icon":"ScanThumb_thumbnail-close-icon__1RN0M","thumbnail-img":"ScanThumb_thumbnail-img__bKlF7","thumbnail-body-plh":"ScanThumb_thumbnail-body-plh__bm_5W","thumbnail-icon":"ScanThumb_thumbnail-icon__vvMeS","thumbnail-title":"ScanThumb_thumbnail-title__q2FWQ","thumbnail-link":"ScanThumb_thumbnail-link__NNc9A"}},1735:function(e){e.exports={"scans-row":"Scans_scans-row__NKnKS"}},9777:function(e){e.exports={"card-container":"WebCard_card-container__0iwuz","card-image":"WebCard_card-image__NSiif","card-body":"WebCard_card-body__mrwzZ",loading:"WebCard_loading__06Nyj","loading-animation":"WebCard_loading-animation__86pwV"}},67:function(){},2061:function(){}},function(e){e.O(0,[251,996,504,774,888,179],(function(){return n=5557,e(e.s=n);var n}));var n=e.O();_N_E=n}]);