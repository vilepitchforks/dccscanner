_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[6],{0:function(t,n,e){e("GcxT"),t.exports=e("nOHt")},GcxT:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return e("IlR1")}])},IlR1:function(t,n,e){"use strict";e.r(n);var r=e("rePB"),o=e("nKUr"),c=e("S9FO"),a=(e("zlK1"),e("xXxE"),e("rMck"),e("ZJU2"),e("o0o1")),s=e.n(a),i=e("HaE+"),u=e("KQm4"),d=function(){var t=Object(i.a)(s.a.mark((function t(n,e){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(r=new EventSource("/api/stream?"+e,{withCredentials:!0})).onopen=function(){n.addInfoEvent("Connection with server established.")},r.addEventListener("info",(function(t){var e=t.data;n.addInfoEvent(JSON.parse(e))})),r.addEventListener("data",(function(t){var e=t.lastEventId,r=t.data;n.addDataEvent({url:e,data:JSON.parse(r)})})),r.addEventListener("close",(function(t){n.addInfoEvent("Connection with server closed."),n.addInfoEvent("Processing scan data..."),n.setScanCompleted(!0),r.close()})),r.addEventListener("servererror",(function(t){var e=t.lastEventId,o=t.data;console.log("Servererror event lastEventId",e),console.log("Servererror event data",o),n.addErrorEvent("An error occurred: "+o),n.setScanCompleted(!0),r.close()})),r.onerror=function(t){console.warn("Actual error event",t),n.addErrorEvent("An es.onerror occurred"),n.setScanCompleted(!0),r.close()};case 7:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),f=Object(c.createStore)({scanUrl:"",scanCtgs:"",metadata:{},infoEvents:[],dataEvents:{},errorEvents:[],scanCompleted:!1,setScanUrl:Object(c.action)((function(t,n){return function(t,n){t.scanUrl=n}(t,n)})),setScanCtgs:Object(c.action)((function(t,n){return function(t,n){t.scanCtgs=n}(t,n)})),setMetadata:Object(c.action)((function(t,n){return function(t,n){t.metadata=n}(t,n)})),reSetScanUrl:Object(c.action)((function(t){return function(t){t.scanUrl="",t.scanCtgs="",t.metadata={},t.infoEvents=[],t.dataEvents={},t.errorEvents=[]}(t)})),setScanCompleted:Object(c.action)((function(t,n){!function(t,n){t.scanCompleted=n}(t,n)})),addInfoEvent:Object(c.action)((function(t,n){!function(t,n){t.infoEvents.push(n)}(t,n)})),addDataEvent:Object(c.action)((function(t,n){!function(t,n){var e=n.url,r=n.data,o=t.dataEvents[e]||[];t.dataEvents[e]=[].concat(Object(u.a)(o),[r])}(t,n)})),addErrorEvent:Object(c.action)((function(t,n){!function(t,n){t.errorEvents.push(n)}(t,n)})),startStream:Object(c.thunk)((function(t,n){return d(t,n)}))});function v(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function l(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?v(Object(e),!0).forEach((function(n){Object(r.a)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):v(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}n.default=function(t){var n=t.Component,e=t.pageProps;return Object(o.jsx)(c.StoreProvider,{store:f,children:Object(o.jsx)(n,l({},e))})}},ZJU2:function(t,n,e){},rMck:function(t,n,e){},xXxE:function(t,n,e){},zlK1:function(t,n,e){}},[[0,0,2,1,3,4]]]);